# Crawl Results - 2025-06-19T13:22:38.395Z

## Page 1: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Running your first Sandbox

This guide will show you how to start your first E2B Sandbox.

## [1\. Create E2B account](https://e2b.dev/docs/quickstart\#1-create-e2-b-account)

Every new E2B account get $100 in credits. You can sign up [here](https://e2b.dev/auth/sign-up).

## [2\. Set your environment variables](https://e2b.dev/docs/quickstart\#2-set-your-environment-variables)

1. Navigate to the [E2B Dashboard](https://e2b.dev/dashboard?tab=keys).
2. Copy your API key.
3. Paste your E2B API key into your `.env` file.

### .env

```bash
E2B_API_KEY=e2b_***

```

CopyCopied!

## [3\. Install E2B SDK](https://e2b.dev/docs/quickstart\#3-install-e2-b-sdk)

Install the E2B SDK to your project by running the following command in your terminal.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
npm i @e2b/code-interpreter dotenv

```

CopyCopied!

## [4\. Write code for starting Sandbox](https://e2b.dev/docs/quickstart\#4-write-code-for-starting-sandbox)

We'll write the minimal code for starting Sandbox, executing Python inside it and listing all files inside the root directory.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```ts
import 'dotenv/config'
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create() // By default the sandbox is alive for 5 minutes
const execution = await sbx.runCode('print("hello world")') // Execute Python inside the sandbox
console.log(execution.logs)

const files = await sbx.files.list('/')
console.log(files)

```

CopyCopied!

## [5\. Start your first E2B Sandbox](https://e2b.dev/docs/quickstart\#5-start-your-first-e2-b-sandbox)

Run the code with the following command:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
npx tsx ./index.ts

```

CopyCopied!

---

## Page 2: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Sandbox metrics

This feature is in a private beta.

The sandbox metrics allows you to get information about the sandbox's CPU and memory usage.

## [Installation](https://e2b.dev/docs/sandbox/metrics\#installation)

To get sandbox metrics, you need to install the beta version of the SDKs and CLI:

- [Installing beta SDKs](https://e2b.dev/docs/sandbox/installing-beta-sdks)

- [Installing beta CLI](https://e2b.dev/docs/cli#beta-cli)


## [Getting sandbox metrics](https://e2b.dev/docs/sandbox/metrics\#getting-sandbox-metrics)

Getting the metrics of a sandbox returns an array of timestamped metrics containing CPU and memory usage information.
The metrics are collected at the start of the sandbox, then every 2 seconds, and finally right before the sandbox is deleted.

### [Getting sandbox metrics using the SDKs](https://e2b.dev/docs/sandbox/metrics\#getting-sandbox-metrics-using-the-sdks)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
console.log('Sandbox created', sbx.sandboxId)

const metrics = await sbx.getMetrics()

// You can also get the metrics by sandbox ID:
// const metrics = await Sandbox.getMetrics(sbx.sandboxId)

console.log('Sandbox metrics:', metrics)

// [\
//   {\
//     cpuCount: 2,\
//     cpuUsedPct: 50.05,\
//     memTotalMiB: 484,\
//     memUsedMiB: 37,\
//     timestamp: '2025-01-23T23:44:12.222Z'\
//   },\
//   {\
//     cpuCount: 2,\
//     cpuUsedPct: 4.5,\
//     memTotalMiB: 484,\
//     memUsedMiB: 37,\
//     timestamp: '2025-01-23T23:44:13.220Z'\
//   }\
// ]

```

CopyCopied!

### [Getting sandbox metrics using the CLI](https://e2b.dev/docs/sandbox/metrics\#getting-sandbox-metrics-using-the-cli)

Terminal

```bash
e2b sandbox metrics <sandbox_id>

# Metrics for sandbox <sandbox_id>
#
# [2025-01-23 00:58:58.829Z]  { cpuCount: 2, cpuUsedPct: 50.21, logger: '', memTotalMiB: 484, memUsedMiB: 38, timestamp: '2025-01-23T00:58:58.829638869Z' }
# [2025-01-23 00:59:03.814Z]  { cpuCount: 2, cpuUsedPct: 5.16, logger: '', memTotalMiB: 484, memUsedMiB: 37, timestamp: '2025-01-23T00:59:03.814028031Z' }
# [2025-01-23 00:59:08.815Z]  { cpuCount: 2, cpuUsedPct: 1.6, logger: '', memTotalMiB: 484, memUsedMiB: 37, timestamp: '2025-01-23T00:59:08.815933749Z' }

```

CopyCopied!

## [Limitations while in beta](https://e2b.dev/docs/sandbox/metrics\#limitations-while-in-beta)

- It may take a second or more to get the metrics after the sandbox is created. Until the logs are collected from the sandbox, you will get an empty array.

---

## Page 3: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Internet access

Every sandbox has access to the internet and can be reached by a public URL.

## [Sandbox public URL](https://e2b.dev/docs/sandbox/internet-access\#sandbox-public-url)

Every sandbox has a public URL that can be used to access running services inside the sandbox.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

// You need to always pass a port number to get the host
const host = sandbox.getHost(3000)
console.log(`https://${host}`)

```

CopyCopied!

The code above will print something like this:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```bash
https://3000-i62mff4ahtrdfdkyn2esc-b0b684e9.e2b.dev

```

CopyCopied!

The first leftmost part of the host is the port number we passed to the method.

## [Connecting to a server running inside the sandbox](https://e2b.dev/docs/sandbox/internet-access\#connecting-to-a-server-running-inside-the-sandbox)

You can start a server inside the sandbox and connect to it using the approach above.

In this example we will start a simple HTTP server that listens on port 3000 and responds with the content of the directory where the server is started.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

// Start a simple HTTP server inside the sandbox.
const process = await sandbox.commands.run('python -m http.server 3000', { background: true })
const host = sandbox.getHost(3000)
const url = `https://${host}`
console.log('Server started at:', url)

// Fetch data from the server inside the sandbox.
const response = await fetch(url);
const data = await response.text();
console.log('Response from server inside sandbox:', data);

// Kill the server process inside the sandbox.
await process.kill()

```

CopyCopied!

This output will look like this:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```bash
Server started at: https://3000-ip3nfrvajtqu5ktoxugc7-b0b684e9.e2b.dev
Response from server inside sandbox: <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Directory listing for /</title>
</head>
<body>
<h1>Directory listing for /</h1>
<hr>
<ul>
<li><a href=".bash_logout">.bash_logout</a></li>
<li><a href=".bashrc">.bashrc</a></li>
<li><a href=".profile">.profile</a></li>
</ul>
<hr>
</body>
</html>

```

CopyCopied!

---

## Page 4: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Ready Command

The ready command allows you to specify a command that will determine **template sandbox** readiness before a [snapshot](https://e2b.dev/docs/sandbox-template#how-it-works) is created.
It is executed in an infinite loop until it returns a successful **exit code 0**.
This way you can control how long should we wait for the [start command](https://e2b.dev/docs/sandbox-template/start-cmd) or any system state.

## [How to add ready command](https://e2b.dev/docs/sandbox-template/ready-cmd\#how-to-add-ready-command)

When you are building a sandbox template you can specify the ready command by using the [`--ready-cmd`](https://e2b.dev/docs/sdk-reference/cli/v1.5.0/template#e2b-template-build) option:

```bash
e2b template build --ready-cmd "<your-ready-command>"

```

CopyCopied!

### [Sandbox template config](https://e2b.dev/docs/sandbox-template/ready-cmd\#sandbox-template-config)

You can specify the ready command inside the `e2b.toml` in the same directory where you run `e2b template build`.

### e2b.toml

```toml
# This is a config for E2B sandbox template
template_id = "1wdqsf9le9gk21ztb4mo"
dockerfile = "e2b.Dockerfile"
template_name = "my-agent-sandbox"
ready_cmd = "<your-ready-command>"

```

CopyCopied!

## [Default values](https://e2b.dev/docs/sandbox-template/ready-cmd\#default-values)

By default, the ready command is set to `sleep 0`, which means the sandbox template will be ready immediatelly.
If the [start command](https://e2b.dev/docs/sandbox-template/start-cmd) is defined, the default is set to `sleep 20`, which means that the template sandbox will wait for 20 seconds before taking the snapshot.

## [Examples](https://e2b.dev/docs/sandbox-template/ready-cmd\#examples)

Here are some examples of the ready command you can use.

### [Wait for URL to return 200 status code](https://e2b.dev/docs/sandbox-template/ready-cmd\#wait-for-url-to-return-200-status-code)

```bash
ready_cmd = 'curl -s -o /dev/null -w "%{http_code}" http://localhost:3000 | grep -q "200"'

```

CopyCopied!

### [Wait for a specific process to start](https://e2b.dev/docs/sandbox-template/ready-cmd\#wait-for-a-specific-process-to-start)

```bash
ready_cmd = 'pgrep my-process-name > /dev/null'

```

CopyCopied!

### [Wait for a file to exist](https://e2b.dev/docs/sandbox-template/ready-cmd\#wait-for-a-file-to-exist)

```bash
ready_cmd = '[ -f /tmp/ready.flag ]'

```

CopyCopied!

---

## Page 5: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Analyze data with AI

You can use E2B Sandbox to run AI-generated code to analyze data. Here's how the AI data analysis workflow usually looks like:

1. Your user has a dataset in CSV format or other formats.
2. You prompt the LLM to generate code (usually Python) based on the user's data.
3. The sandbox runs the AI-generated code and returns the results.
4. You display the results to the user.

* * *

## [Example: Analyze CSV file with E2B and Claude 3.5 Sonnet](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#example-analyze-csv-file-with-e2-b-and-claude-3-5-sonnet)

This short example will show you how to use E2B Sandbox to run AI-generated code to analyze CSV data.

### [Table of Contents](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#table-of-contents)

01. [Install dependencies](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#1-install-dependencies)
02. [Set your API keys](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#2-set-your-api-keys)
03. [Download example CSV file](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#3-download-example-csv-file)
04. [Initialize the sandbox and upload the dataset to the sandbox](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#4-initialize-the-sandbox-and-upload-the-dataset-to-the-sandbox)
05. [Prepare the method for running AI-generated code](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#5-prepare-the-method-for-running-ai-generated-code)
06. [Prepare the prompt and initialize Anthropic client](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#6-prepare-the-prompt-and-initialize-anthropic-client)
07. [Connect the sandbox to the LLM with tool calling](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#7-connect-the-sandbox-to-the-llm-with-tool-calling)
08. [Parse the LLM response and run the AI-generated code in the sandbox](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#8-parse-the-llm-response-and-run-the-ai-generated-code-in-the-sandbox)
09. [Save the generated chart](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#9-save-the-generated-chart)
10. [Run the code](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#10-run-the-code)
11. [Full final code](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai#11-full-final-code)

### [1\. Install dependencies](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#1-install-dependencies)

Install the E2B SDK and Claude SDK to your project by running the following command in your terminal.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
npm i @e2b/code-interpreter @anthropic-ai/sdk dotenv

```

CopyCopied!

### [2\. Set your API keys](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#2-set-your-api-keys)

1. Get your E2B API key from [E2B Dashboard](https://e2b.dev/dashboard?tab=keys).
2. Get your Claude API key from [Claude API Dashboard](https://console.anthropic.com/settings/keys).
3. Paste the keys into your `.env` file.

### .env

```bash
E2B_API_KEY=e2b_***
ANTHROPIC_API_KEY=sk-ant-***

```

CopyCopied!

### [3\. Download example CSV file](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#3-download-example-csv-file)

We'll be using the publicly available [dataset of about 10,000 movies](https://www.kaggle.com/datasets/muqarrishzaib/tmdb-10000-movies-dataset).

1. Click the "Download" button at the top of the page.
2. Select "Download as zip (2 MB)".
3. Unzip the file and you should see `dataset.csv` file. Move it to the root of your project.

### [4\. Initialize the sandbox and upload the dataset to the sandbox](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#4-initialize-the-sandbox-and-upload-the-dataset-to-the-sandbox)

We'll upload the dataset from the third step to the sandbox and save it as `dataset.csv` file.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
import 'dotenv/config'
import fs from 'fs'
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox
const sbx = await Sandbox.create()

// Upload the dataset to the sandbox
const content = fs.readFileSync('dataset.csv')
const datasetPathInSandbox = await sbx.files.write('dataset.csv', content)

```

CopyCopied!

### [5\. Prepare the method for running AI-generated code](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#5-prepare-the-method-for-running-ai-generated-code)

Add the following code to the file. Here we're adding the method for code execution.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
// ... code from the previous step

async function runAIGeneratedCode(aiGeneratedCode: string) {
  console.log('Running the code in the sandbox....')
  const execution = await sbx.runCode(aiGeneratedCode)
  console.log('Code execution finished!')
  console.log(execution)
}

```

CopyCopied!

### [6\. Prepare the prompt and initialize Anthropic client](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#6-prepare-the-prompt-and-initialize-anthropic-client)

The prompt we'll be using describes the dataset and the analysis we want to perform like this:

1. Describe the columns in the CSV dataset.
2. Ask the LLM what we want to analyze - here we want to analyze the vote average over time. We're asking for a chart as the output.
3. Instruct the LLM to generate Python code for the data analysis.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
import Anthropic from '@anthropic-ai/sdk'

const prompt = `
I have a CSV file about movies. It has about 10k rows. It's saved in the sandbox at ${dataset_path_in_sandbox.path}.
These are the columns:
- 'id': number, id of the movie
- 'original_language': string like "eng", "es", "ko", etc
- 'original_title': string that's name of the movie in the original language
- 'overview': string about the movie
- 'popularity': float, from 0 to 9137.939. It's not normalized at all and there are outliers
- 'release_date': date in the format yyyy-mm-dd
- 'title': string that's the name of the movie in english
- 'vote_average': float number between 0 and 10 that's representing viewers voting average
- 'vote_count': int for how many viewers voted

I want to better understand how the vote average has changed over the years. Write Python code that analyzes the dataset based on my request and produces right chart accordingly`

const anthropic = new Anthropic()
console.log('Waiting for the model response...')
const msg = await anthropic.messages.create({
  model: 'claude-3-5-sonnet-20240620',
  max_tokens: 1024,
  messages: [{ role: 'user', content: prompt }],
})

```

CopyCopied!

### [7\. Connect the sandbox to the LLM with tool calling](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#7-connect-the-sandbox-to-the-llm-with-tool-calling)

We'll use Claude's ability to [use tools (function calling)](https://docs.anthropic.com/en/docs/build-with-claude/tool-use) to run the code in the sandbox.

The way we'll do it is by connecting the method for running AI-generated code we created in the previous step to the Claude model.

Update the initialization of the Anthropic client to include the tool use like this:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
const msg = await anthropic.messages.create({
  model: 'claude-3-5-sonnet-20240620',
  max_tokens: 1024,
  messages: [{ role: 'user', content: prompt }],
  tools: [\
     {\
      name: 'run_python_code',\
      description: 'Run Python code',\
      input_schema: {\
        type: 'object',\
        properties: {\
          code: {\
            type: 'string',\
            description: 'The Python code to run',\
          },\
        },\
        required: ['code'],\
      },\
    },\
  ],
})

```

CopyCopied!

### [8\. Parse the LLM response and run the AI-generated code in the sandbox](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#8-parse-the-llm-response-and-run-the-ai-generated-code-in-the-sandbox)

Now we'll parse the `msg` object to get the code from the LLM's response based on the tool we created in the previous step.
Once we have the code, we'll pass it to the `runAIGeneratedCode` method in JavaScript or `run_ai_generated_code` method in Python we created in the previous step to run the code in the sandbox.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
// ... code from the previous steps

interface CodeRunToolInput {
  code: string
}

for (const contentBlock of msg.content) {
  if (contentBlock.type === 'tool_use') {
    if (contentBlock.name === 'run_python_code') {
      const code = (contentBlock.input as CodeRunToolInput).code
      console.log('Will run following code in the sandbox', code)
      // Execute the code in the sandbox
      await runAIGeneratedCode(code)
    }
  }
}

```

CopyCopied!

### [9\. Save the generated chart](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#9-save-the-generated-chart)

When running code in the sandbox for data analysis, you can get different types of results.
Including stdout, stderr, charts, tables, text, runtime errors, and more.

In this example we're specifically asking for a chart so we'll be looking for the chart in the results.

Let's update the `runAIGeneratedCode` method in JavaScript and `run_ai_generated_code` method in Python to check for the chart in the results and save it to the file.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
async function runAIGeneratedCode(aiGeneratedCode: string) {
  console.log('Running the code in the sandbox....')
  const execution = await sbx.runCode(aiGeneratedCode)
  console.log('Code execution finished!')

  // First let's check if the code ran successfully.
  if (execution.error) {
    console.error('AI-generated code had an error.')
    console.log(execution.error.name)
    console.log(execution.error.value)
    console.log(execution.error.traceback)
    process.exit(1)
  }

  // Iterate over all the results and specifically check for png files that will represent the chart.
  let resultIdx = 0
  for (const result of execution.results) {
    if (result.png) {
      // Save the png to a file
      // The png is in base64 format.
      fs.writeFileSync(`chart-${resultIdx}.png`, result.png, { encoding: 'base64' })
      console.log(`Chart saved to chart-${resultIdx}.png`)
      resultIdx++
    }
  }
}

```

CopyCopied!

### [10\. Run the code](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#10-run-the-code)

Now you can run the whole code to see the results.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
npx tsx index.ts

```

CopyCopied!

You should see the chart in the root of your project that will look similar to this:

![Chart visualizing voting average of our dataset over time](https://e2b-docs.vercel.app/_next/static/media/analyze-data-chart.154dd966.png)

### [Full final code](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai\#full-final-code)

Check the full code in JavaScript and Python below:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

index.ts

```js
import 'dotenv/config'
import fs from 'fs'
import Anthropic from '@anthropic-ai/sdk'
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox
const sbx = await Sandbox.create()

// Upload the dataset to the sandbox
const content = fs.readFileSync('dataset.csv')
const datasetPathInSandbox = await sbx.files.write('/home/user/dataset.csv', content)

async function runAIGeneratedCode(aiGeneratedCode: string) {
  const execution = await sbx.runCode(aiGeneratedCode)
  if (execution.error) {
    console.error('AI-generated code had an error.')
    console.log(execution.error.name)
    console.log(execution.error.value)
    console.log(execution.error.traceback)
    process.exit(1)
  }
  // Iterate over all the results and specifically check for png files that will represent the chart.
  let resultIdx = 0
  for (const result of execution.results) {
    if (result.png) {
      // Save the png to a file
      // The png is in base64 format.
      fs.writeFileSync(`chart-${resultIdx}.png`, result.png, { encoding: 'base64' })
      console.log('Chart saved to chart-${resultIdx}.png')
      resultIdx++
    }
  }
}

const prompt = `
I have a CSV file about movies. It has about 10k rows. It's saved in the sandbox at ${datasetPathInSandbox.path}.
These are the columns:
- 'id': number, id of the movie
- 'original_language': string like "eng", "es", "ko", etc
- 'original_title': string that's name of the movie in the original language
- 'overview': string about the movie
- 'popularity': float, from 0 to 9137.939. It's not normalized at all and there are outliers
- 'release_date': date in the format yyyy-mm-dd
- 'title': string that's the name of the movie in english
- 'vote_average': float number between 0 and 10 that's representing viewers voting average
- 'vote_count': int for how many viewers voted

I want to better understand how the vote average has changed over the years. Write Python code that analyzes the dataset based on my request and produces right chart accordingly`

const anthropic = new Anthropic()
console.log('Waiting for the model response...')
const msg = await anthropic.messages.create({
  model: 'claude-3-5-sonnet-20240620',
  max_tokens: 1024,
  messages: [{ role: 'user', content: prompt }],
  tools: [\
    {\
      name: 'run_python_code',\
      description: 'Run Python code',\
      input_schema: {\
        type: 'object',\
        properties: {\
          code: {\
            type: 'string',\
            description: 'The Python code to run',\
          },\
        },\
        required: ['code'],\
      },\
    },\
  ],
})

interface CodeRunToolInput {
  code: string
}

for (const contentBlock of msg.content) {
  if (contentBlock.type === 'tool_use') {
    if (contentBlock.name === 'run_python_code') {
      const code = (contentBlock.input as CodeRunToolInput).code
      console.log('Will run following code in the sandbox', code)
      // Execute the code in the sandbox
      await runAIGeneratedCode(code)
    }
  }
}

```

CopyCopied!

---

## Page 6: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# E2B CLI

E2B CLI is a command line tool that allows you to list, kill running sandboxes, and manage [sandbox templates](https://e2b.dev/docs/sandbox-templates).

## [Installation](https://e2b.dev/docs/cli\#installation)

**Using Homebrew (on macOS)**

Terminal

```bash
brew install e2b

```

CopyCopied!

**Using NPM**

You can install E2B CLI using the following command:

Terminal

```bash
npm i -g @e2b/cli

```

CopyCopied!

### [Beta CLI](https://e2b.dev/docs/cli\#beta-cli)

The latest beta version of the CLI can be installed from NPM using the following command:

Terminal

```bash
npm i -g @e2b/cli@beta

```

CopyCopied!

---

## Page 7: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# List sandboxes

You can list all running sandboxes using the following command:

Terminal

```bash
e2b sandbox list

```

CopyCopied!

## [Changes in the Beta CLI](https://e2b.dev/docs/cli/list-sandboxes\#changes-in-the-beta-cli)

If you're using the [beta version of the CLI](https://e2b.dev/docs/cli#beta-cli), the `sandbox list` command was updated.

### [List all sandboxes](https://e2b.dev/docs/cli/list-sandboxes\#list-all-sandboxes)

To list all sandboxes, use the following command:

```bash
e2b sandbox list

```

CopyCopied!

This will return all sandboxes, both running and paused.

### [Filter by state](https://e2b.dev/docs/cli/list-sandboxes\#filter-by-state)

To filter the sandboxes by their state you can specify the `--state` flag, which can either be " **running**", " **paused**" or both.

```bash
e2b sandbox list --state running,paused

```

CopyCopied!

### [Filter by metadata](https://e2b.dev/docs/cli/list-sandboxes\#filter-by-metadata)

To filter the sandboxes by their metadata, use the `--metadata` flag.

```bash
e2b sandbox list --metadata key1=value1,key2=value2

```

CopyCopied!

### [List limit](https://e2b.dev/docs/cli/list-sandboxes\#list-limit)

To limit the amount of sandboxes returned by the command, use the `--limit` flag.

```bash
e2b sandbox list --limit 10

```

CopyCopied!

By default, the command will return all sandboxes.

---

## Page 8: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Interactive charts

E2B also allows you to create interactive charts with custom styling.

E2B automatically detects charts when executing Python code with `runCode()` in JavaScript or `run_code()` in Python. The Python code must include Matplotlib charts.

When a chart is detected, E2B sends the data of the chart back to the client. You can access the chart in the `execution.results` array where each item is a `Result` object with the `chart` property.

Try out [AI Data Analyst](https://github.com/e2b-dev/ai-analyst/) \- a Next.js app that uses E2B to create interactive charts.

Here's a simple example of bar chart:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox, BarChart } from '@e2b/code-interpreter'

const code = `
import matplotlib.pyplot as plt

# Prepare data
authors = ['Author A', 'Author B', 'Author C', 'Author D']
sales = [100, 200, 300, 400]

# Create and customize the bar chart
plt.figure(figsize=(10, 6))
plt.bar(authors, sales, label='Books Sold', color='blue')
plt.xlabel('Authors')
plt.ylabel('Number of Books Sold')
plt.title('Book Sales by Authors')

# Display the chart
plt.tight_layout()
plt.show()
`

const sandbox = await Sandbox.create()
const result = await sandbox.runCode(code)
const chart = result.results[0].chart as BarChart

console.log('Type:', chart.type)
console.log('Title:', chart.title)
console.log('X Label:', chart.x_label)
console.log('Y Label:', chart.y_label)
console.log('X Unit:', chart.x_unit)
console.log('Y Unit:', chart.y_unit)
console.log('Elements:', chart.elements)

```

CopyCopied!

The code above will output the following:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
Type: bar
Title: Book Sales by Authors
X Label: Authors
Y Label: Number of Books Sold
X Unit: null
Y Unit: null
Elements: [\
  {\
    label: "Author A",\
    group: "Books Sold",\
    value: 100,\
  }, {\
    label: "Author B",\
    group: "Books Sold",\
    value: 200,\
  }, {\
    label: "Author C",\
    group: "Books Sold",\
    value: 300,\
  }, {\
    label: "Author D",\
    group: "Books Sold",\
    value: 400,\
  }\
]

```

CopyCopied!

You can send this data to your frontend to create an interactive chart with your favorite charting library.

* * *

## [Supported intertactive charts](https://e2b.dev/docs/code-interpreting/create-charts-visualizations/interactive-charts\#supported-intertactive-charts)

The following charts are currently supported:

- Line chart
- Bar chart
- Scatter plot
- Pie chart
- Box and whisker plot

---

## Page 9: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Shutdown running sandboxes

You can shutdown single or all running sandboxes with the E2B CLI.

## [Shutdown single sandbox](https://e2b.dev/docs/cli/shutdown-sandboxes\#shutdown-single-sandbox)

To shutdown a single sandbox, run the following command:

Terminal

```bash
e2b sandbox kill <sandbox-id>

```

CopyCopied!

## [Shutdown all sandboxes](https://e2b.dev/docs/cli/shutdown-sandboxes\#shutdown-all-sandboxes)

To shutdown all running sandboxes, run the following command:

Terminal

```bash
e2b sandbox kill --all

```

CopyCopied!

---

## Page 10: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Streaming

Use E2B SDK allows you to stream the output, and results when executing code in the sandbox.

## [Stream `stdout` and `stderr`](https://e2b.dev/docs/code-interpreting/streaming\#stream-stdout-and-stderr)

When using the `runCode()` method in JavaScript or `run_code()` in Python you can pass `onStdout`/ `on_stdout` and `onStderr`/ `on_stderr` callbacks to handle the output.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const codeToRun = `
  import time
  import sys
  print("This goes first to stdout")
  time.sleep(3)
  print("This goes later to stderr", file=sys.stderr)
  time.sleep(3)
  print("This goes last")
`
const sandbox = await Sandbox.create()
sandbox.runCode(codeToRun, {
  // Use `onError` to handle runtime code errors
  onError: error => console.error('error:', error),
  onStdout: data => console.log('stdout:', data),
  onStderr: data => console.error('stderr:', data),
})

```

CopyCopied!

The code above will print the following:

JavaScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```javascript
stdout: {
  error: false,
  line: "This goes first to stdout\n",
  timestamp: 1729049666861000,
}
stderr: {
  error: true,
  line: "This goes later to stderr\n",
  timestamp: 1729049669924000,
}
stdout: {
  error: false,
  line: "This goes last\n",
  timestamp: 1729049672664000,
}

```

CopyCopied!

## [Stream `results`](https://e2b.dev/docs/code-interpreting/streaming\#stream-results)

When using the `runCode()` method in JavaScript or `run_code()` in Python you can pass `onResults`/ `on_results` callback
to receive results from the sandbox like charts, tables, text, and more.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
const codeToRun = `
import matplotlib.pyplot as plt

# Prepare data
categories = ['Category A', 'Category B', 'Category C', 'Category D']
values = [10, 20, 15, 25]

# Create and customize the bar chart
plt.figure(figsize=(10, 6))
plt.bar(categories, values, color='green')
plt.xlabel('Categories')
plt.ylabel('Values')
plt.title('Values by Category')

# Display the chart
plt.show()
`
const sandbox = await Sandbox.create()
await sandbox.runCode(codeToRun, {
  onResult: result => console.log('result:', result),
})

```

CopyCopied!

---

## Page 11: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Migrating E2B SDK from v0.\* to v1.0 using Grit

This guide explains how to migrate your project from **E2B SDK `v0.*`** to **E2B SDK `v1.0`** using [Grit](https://www.grit.io/) and our custom migrations.
This mostly automates the process of searching through your codebase to update code to migrate to the new SDK without errors. However, this is not a 100% accurate process, and you should expect human intervention to be required.

## [Step 1: Install the Grit CLI](https://e2b.dev/docs/quickstart/migrating-from-v0\#step-1-install-the-grit-cli)

You can install **Grit CLI** using one of the following methods:

### [Option 1: Install via NPM](https://e2b.dev/docs/quickstart/migrating-from-v0\#option-1-install-via-npm)

```bash
npm install --location=global @getgrit/cli

```

CopyCopied!

### [Option 2: Install via bash script](https://e2b.dev/docs/quickstart/migrating-from-v0\#option-2-install-via-bash-script)

```bash
curl -fsSL https://docs.grit.io/install | bash

```

CopyCopied!

## [Step 2: Prepare for migration](https://e2b.dev/docs/quickstart/migrating-from-v0\#step-2-prepare-for-migration)

Before applying the migration, format your code and commit your changes to ensure you have a stable state to revert to if necessary.

```bash
git add .
git commit -m "Last changes made"

```

CopyCopied!

## [Step 3: Run Grit with the Custom Pattern](https://e2b.dev/docs/quickstart/migrating-from-v0\#step-3-run-grit-with-the-custom-pattern)

To apply the custom migration pattern, run the following command for your project. The `--interactive` flag allows you to review each change as it is made.

### [For JavaScript/TypeScript:](https://e2b.dev/docs/quickstart/migrating-from-v0\#for-java-script-type-script)

```bash
grit apply github.com/e2b-dev/e2b-cookbook#e2b_v0_to_v1_js --interactive

```

CopyCopied!

### [For Python:](https://e2b.dev/docs/quickstart/migrating-from-v0\#for-python)

```bash
grit apply github.com/e2b-dev/e2b-cookbook#e2b_v0_to_v1_py --interactive

```

CopyCopied!

## [Step 5: Review changes](https://e2b.dev/docs/quickstart/migrating-from-v0\#step-5-review-changes)

Once the migration is applied, review the changes for possible mistakes, including code that was broken (false positives) or outdated code that was not fixed (false negatives) by the migration. Such issues you may encounter include:

- ⚠️ If non-E2B objects with `.close()` methods, `.id` attributes, etc. exist in files that import E2B libraries, they will be incorrectly changed. You need to reject these changes manually.
- ⚠️ The output structure of `Sandbox.list()` has changed in the new SDK. You must manually rewrite your code to account for this.
- ⚠️ The global `cwd` option no longer exists when creating a Sandbox. You must manually rewrite your code to include the `cwd` option with each command.

You should manually review all changes made by Grit to fix these "gotchas" and others which are sure to exist.

## [Step 6: Commit changes](https://e2b.dev/docs/quickstart/migrating-from-v0\#step-6-commit-changes)

Before commiting the changes made by Grit, it's recommended to re-format the generated code following the convention of your choice. After verifying the changes and reformatting code, commit them to Git.

```bash
git add .
git commit -m "Migrate project to E2B SDK v1.0"

```

CopyCopied!

## [Step 7: Test your application](https://e2b.dev/docs/quickstart/migrating-from-v0\#step-7-test-your-application)

Now, thoroughly test your application to make sure the migration is successful and everything is functioning as expected.

* * *

By following these steps, you can easily migrate your TypeScript or Python project from **E2B SDK `v0.*`** to **E2B SDK `v1.0`** using Grit. Don’t forget to use version control to track all changes throughout the process and to thoroughly test your application after migrating.

---

## Page 12: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Pre-installed libraries

The sandbox comes with a [set of pre-installed Python libraries](https://github.com/e2b-dev/code-interpreter/blob/main/template/requirements.txt) for data analysis
but you can [install additional packages](https://e2b.dev/docs/quickstart/install-custom-packages):

- `aiohttp` (v3.9.3)
- `beautifulsoup4` (v4.12.3)
- `bokeh` (v3.3.4)
- `gensim` (v4.3.2)
- `imageio` (v2.34.0)
- `joblib` (v1.3.2)
- `librosa` (v0.10.1)
- `matplotlib` (v3.8.3)
- `nltk` (v3.8.1)
- `numpy` (v1.26.4)
- `opencv-python` (v4.9.0.80)
- `openpyxl` (v3.1.2)
- `pandas` (v1.5.3)
- `plotly` (v5.19.0)
- `pytest` (v8.1.0)
- `python`-docx (v1.1.0)
- `pytz` (v2024.1)
- `requests` (v2.26.0)
- `scikit-image` (v0.22.0)
- `scikit-learn` (v1.4.1.post1)
- `scipy` (v1.12.0)
- `seaborn` (v0.13.2)
- `soundfile` (v0.12.1)
- `spacy` (v3.7.4)
- `textblob` (v0.18.0)
- `tornado` (v6.4)
- `urllib3` (v1.26.7)
- `xarray` (v2024.2.0)
- `xlrd` (v2.0.1)
- `sympy` (v1.12)

---

## Page 13: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Install custom packages

There are two ways to install custom packages in the E2B Sandbox.

1. [Create custom sandbox with preinstalled packages](https://e2b.dev/docs/quickstart/install-custom-packages#create-a-custom-sandbox).
2. [Install packages during the sandbox runtime](https://e2b.dev/docs/quickstart/install-custom-packages#install-packages-during-the-sandbox-runtime).

* * *

## [Create a custom sandbox](https://e2b.dev/docs/quickstart/install-custom-packages\#create-a-custom-sandbox)

Use this option if you know beforehand what packages you need in the sandbox.

Prerequisites:

- E2B CLI
- Docker running

Custom sandbox template is a Docker image that we automatically convert to a sandbox that you can then start with our SDK.

### [1\. Install E2B CLI](https://e2b.dev/docs/quickstart/install-custom-packages\#1-install-e2-b-cli)

**Using Homebrew (on macOS)**

Terminal

```bash
brew install e2b

```

CopyCopied!

**Using NPM**

Terminal

```bash
npm i -g @e2b/cli

```

CopyCopied!

### [2\. Login to E2B CLI](https://e2b.dev/docs/quickstart/install-custom-packages\#2-login-to-e2-b-cli)

Before you can create a custom sandbox, you need to login to E2B CLI.

Terminal

```bash
e2b auth login

```

CopyCopied!

### [2\. Initialize a sandbox template](https://e2b.dev/docs/quickstart/install-custom-packages\#2-initialize-a-sandbox-template)

Terminal

```bash
e2b template init

```

CopyCopied!

### [3\. Specify the packages you need in `e2b.Dockerfile`](https://e2b.dev/docs/quickstart/install-custom-packages\#3-specify-the-packages-you-need-in-e2b-dockerfile)

Edit the E2B Dockerfile to install the packages you need.

You need to use the `e2bdev/code-interpreter:latest` base image.

### e2b.Dockerfile

```bash
FROM e2bdev/code-interpreter:latest

RUN pip install cowsay
RUN npm install cowsay

```

CopyCopied!

### [4\. Build the sandbox template](https://e2b.dev/docs/quickstart/install-custom-packages\#4-build-the-sandbox-template)

Run the following command to build the sandbox template.

Terminal

```bash
e2b template build -c "/root/.jupyter/start-up.sh"

```

CopyCopied!

This will take a while, as it convert the Docker image to a sandbox which is a small VM.
At the end of the process you will see the sandbox ID like this:

```
Running postprocessing. It can take up to few minutes.

Postprocessing finished.

✅ Building sandbox template YOUR_TEMPLATE_ID finished.

```

CopyCopied!

### [5\. Start your custom sandbox](https://e2b.dev/docs/quickstart/install-custom-packages\#5-start-your-custom-sandbox)

Now you can pass the template ID to the SDK to start your custom sandbox.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = Sandbox.create({
  template: 'YOUR_TEMPLATE_ID',
})

```

CopyCopied!

* * *

## [Install packages during the sandbox runtime](https://e2b.dev/docs/quickstart/install-custom-packages\#install-packages-during-the-sandbox-runtime)

Use this option if don't know beforehand what packages you need in the sandbox. You can install packages with the package manager of your choice.

The packages installed during the runtime are available only in the running sandbox instance.
When you start a new sandbox instance, the packages are not be available.

### [1\. Install Python packages with PIP](https://e2b.dev/docs/quickstart/install-custom-packages\#1-install-python-packages-with-pip)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = Sandbox.create()
sbx.commands.run('pip install cowsay') // This will install the cowsay package
sbx.runCode(`
  import cowsay
  cowsay.cow("Hello, world!")
`)

```

CopyCopied!

### [2\. Install Node.js packages with NPM](https://e2b.dev/docs/quickstart/install-custom-packages\#2-install-node-js-packages-with-npm)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = Sandbox.create()
sbx.commands.run('npm install cowsay') // This will install the cowsay package
sbx.runCode(`
  const cowsay = require('cowsay')
  console.log(cowsay.say({ text: 'Hello, world!' }))
`, { language: 'javascript' })

```

CopyCopied!

### [3\. Install packages with package manager of your choice](https://e2b.dev/docs/quickstart/install-custom-packages\#3-install-packages-with-package-manager-of-your-choice)

Since E2B Sandboxes are Debian based machines, you can use any package manager supported by Debian.
You just need to make sure that the package manager is already installed in the sandbox.

For example, to install `curl` and `git`, you can use the following commands:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = Sandbox.create()
await sbx.commands.run('apt-get update && apt-get install -y curl git')

```

CopyCopied!

---

## Page 14: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Watch sandbox directory for changes

You can watch a directory for changes using the `files.watchDir()` method in JavaScript and `files.watch_dir()` method in Python.

Since events are tracked asynchronously, their delivery may be delayed.
It's recommended not to collect or close watcher immediately after making a change.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox, FilesystemEventType } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()
const dirname = '/home/user'

// Start watching directory for changes
const handle = await sandbox.files.watchDir(dirname, async (event) => {
  console.log(event)
  if (event.type === FilesystemEventType.WRITE) {
    console.log(`wrote to file ${event.name}`)
  }
})

// Trigger file write event
await sandbox.files.write(`${dirname}/my-file`, 'hello')

```

CopyCopied!

## [Recursive Watching](https://e2b.dev/docs/filesystem/watch\#recursive-watching)

You can enable recursive watching using the parameter `recursive`.

When rapidly creating new folders (e.g., deeply nested path of folders), events other than `CREATE` might not be emitted. To avoid this behavior, create the required folder structure in advance.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox, FilesystemEventType } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()
const dirname = '/home/user'

// Start watching directory for changes
const handle = await sandbox.files.watchDir(dirname, async (event) => {
  console.log(event)
  if (event.type === FilesystemEventType.WRITE) {
    console.log(`wrote to file ${event.name}`)
  }
}, {
  recursive: true
})

// Trigger file write event
await sandbox.files.write(`${dirname}/my-folder/my-file`, 'hello')

```

CopyCopied!

---

## Page 15: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Filesystem

Each E2B Sandbox has its own isolated filesystem. The [Hobby tier](https://e2b.dev/pricing) sandboxes come with 1 GB of the free disk space and [Pro tier](https://e2b.dev/pricing) sandboxes come with 5 GB.

With E2B SDK you can:

- [Read and write files to the sandbox.](https://e2b.dev/docs/filesystem/read-write)
- [Watch directory for changes.](https://e2b.dev/docs/filesystem/watch)
- [Upload data to the sandbox.](https://e2b.dev/docs/filesystem/upload)
- [Download data from the sandbox.](https://e2b.dev/docs/filesystem/download)

---

## Page 16: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Sandbox persistence

Sandbox persistence is currently in public beta:

1. You'll need to install the [beta version of the SDKs](https://e2b.dev/docs/sandbox/installing-beta-sdks).
2. Consider [some limitations](https://e2b.dev/docs/sandbox/persistence#limitations-while-in-beta).
3. The persistence is free for all users during the beta.

The sandbox persistence allows you to pause your sandbox and resume it later from the same state it was in when you paused it.

This includes not only state of the sandbox's filesystem but also the sandbox's memory. This means all running processes, loaded variables, data, etc.

## [Pausing sandbox](https://e2b.dev/docs/sandbox/persistence\#pausing-sandbox)

When you pause a sandbox, both the sandbox's filesystem and memory state will be saved. This includes all the files in the sandbox's filesystem and all the running processes, loaded variables, data, etc.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
// or use Core: https://github.com/e2b-dev/e2b
// import { Sandbox } from 'e2b'
//
// or use Desktop: https://github.com/e2b-dev/desktop
// import { Sandbox } from '@e2b/desktop'

const sbx = await Sandbox.create()
console.log('Sandbox created', sbx.sandboxId)

// Pause the sandbox
// You can save the sandbox ID in your database
// to resume the sandbox later
const sandboxId = await sbx.pause()
console.log('Sandbox paused', sandboxId)

```

CopyCopied!

## [Resuming sandbox](https://e2b.dev/docs/sandbox/persistence\#resuming-sandbox)

When you resume a sandbox, it will be in the same state it was in when you paused it.
This means that all the files in the sandbox's filesystem will be restored and all the running processes, loaded variables, data, etc. will be restored.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
// or use Core: https://github.com/e2b-dev/e2b
// import { Sandbox } from 'e2b'
//
// or use Desktop: https://github.com/e2b-dev/desktop
// import { Sandbox } from '@e2b/desktop'

const sbx = await Sandbox.create()
console.log('Sandbox created', sbx.sandboxId)

// Pause the sandbox
// You can save the sandbox ID in your database
// to resume the sandbox later
const sandboxId = await sbx.pause()
console.log('Sandbox paused', sandboxId)

// Resume the sandbox from the same state
const sameSbx = await Sandbox.resume(sandboxId)
console.log('Sandbox resumed', sameSbx.sandboxId)

```

CopyCopied!

## [Listing paused sandboxes](https://e2b.dev/docs/sandbox/persistence\#listing-paused-sandboxes)

You can list all paused sandboxes by calling the `Sandbox.list` method and supplying the `state` query parameter.
More information about using the method can be found in [List Sandboxes](https://e2b.dev/docs/sandbox/list).

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox, SandboxInfo } from '@e2b/code-interpreter'
// or use Core: https://github.com/e2b-dev/e2b
// import { Sandbox, SandboxInfo } from 'e2b'
//
// or use Desktop: https://github.com/e2b-dev/desktop
// import { Sandbox, SandboxInfo } from '@e2b/desktop'

// List all paused sandboxes
const paginator = Sandbox.list({ query: { state: ['paused'] } })

// Get the first page of paused sandboxes
const sandboxes = await paginator.nextItems()

// Get all paused sandboxes
const sandboxes: SandboxInfo[] = []
while (paginator.hasNext) {
  const items = await paginator.nextItems()
  sandboxes.push(...items)
}

```

CopyCopied!

## [Removing paused sandboxes](https://e2b.dev/docs/sandbox/persistence\#removing-paused-sandboxes)

You can remove paused sandboxes by calling the `kill` method on the Sandbox instance.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
// or use Core: https://github.com/e2b-dev/e2b
// import { Sandbox } from 'e2b'
//
// or use Desktop: https://github.com/e2b-dev/desktop
// import { Sandbox } from '@e2b/desktop'

const sbx = await Sandbox.create()
console.log('Sandbox created', sbx.sandboxId)

// Pause the sandbox
// You can save the sandbox ID in your database
// to resume the sandbox later
const sandboxId = await sbx.pause()

// Remove the sandbox
await sbx.kill()

// Remove sandbox by id
await Sandbox.kill(sandboxId)

```

CopyCopied!

## [Sandbox's timeout](https://e2b.dev/docs/sandbox/persistence\#sandboxs-timeout)

When you resume a sandbox, the sandbox's timeout is reset to the default timeout of an E2B sandbox - 5 minutes.

You can pass a custom timeout to the `Sandbox.resume()` method like this:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
// or use Core: https://github.com/e2b-dev/e2b
// import { Sandbox } from 'e2b'
//
// or use Desktop: https://github.com/e2b-dev/desktop
// import { Sandbox } from '@e2b/desktop'

const sbx = await Sandbox.resume(sandboxId, { timeoutMs: 60 * 1000 }) // 60 seconds

```

CopyCopied!

## [Network](https://e2b.dev/docs/sandbox/persistence\#network)

If you have a service (for example a server) running inside your sandbox and you pause the sandbox, the service won't be accessible from the outside and all the clients will be disconnected.
If you resume the sandbox, the service will be accessible again but you need to connect clients again.

## [Limitations while in beta](https://e2b.dev/docs/sandbox/persistence\#limitations-while-in-beta)

- It takes about 4 seconds per 1 GB RAM to pause the sandbox
- It takes about 1 second to resume the sandbox
- Sandbox can be paused up to 30 days
  - After 30 days, the data will be deleted and you will not be able to resume the sandbox. Trying to resume sandbox that was deleted or does not exist will result in the `NotFoundError` error in JavaScript SDK and `NotFoundException` exception in Python SDK

---

## Page 17: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Run Python code

Use the `runCode`/ `run_code` method to run Python code inside the sandbox.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
const execution = await sbx.runCode('print("Hello, world!")')
console.log(execution)

```

CopyCopied!

---

## Page 18: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

## [e2b sandbox](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#e2b-sandbox)

work with sandboxes

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#usage)

```bash
e2b sandbox [options] [command]

```

CopyCopied!

## [e2b sandbox connect](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#e2b-sandbox-connect)

connect terminal to already running sandbox

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#usage-2)

```bash
e2b sandbox connect [options] <sandboxID>

```

CopyCopied!

## [e2b sandbox list](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#e2b-sandbox-list)

list all running sandboxes

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#usage-3)

```bash
e2b sandbox list [options]

```

CopyCopied!

## [e2b sandbox kill](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#e2b-sandbox-kill)

kill sandbox

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#usage-4)

```bash
e2b sandbox kill [options] [sandboxID]

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#options)

- `-a, --all: kill all running sandboxes `

## [e2b sandbox spawn](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#e2b-sandbox-spawn)

spawn sandbox and connect terminal to it

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#usage-5)

```bash
e2b sandbox spawn [options] [template]

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#options-2)

- `-p, --path <path>: change root directory where command is executed to <path> directory `
- `--config <e2b-toml>: specify path to the E2B config toml. By default E2B tries to find ./e2b.toml in root directory. `

## [e2b sandbox logs](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#e2b-sandbox-logs)

show logs for sandbox

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#usage-6)

```bash
e2b sandbox logs [options] <sandboxID>

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/sandbox\#options-3)

- `--level <level>: filter logs by level (DEBUG, INFO, WARN, ERROR). The logs with the higher levels will be also shown. [default: INFO]`
- `-f, --follow: keep streaming logs until the sandbox is closed `
- `--format <format>: specify format for printing logs (json, pretty) [default: pretty]`
- `--loggers [loggers]: filter logs by loggers. Specify multiple loggers by separating them with a comma. `

---

## Page 19: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

## [e2b auth](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#e2b-auth)

authentication commands

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#usage)

```bash
e2b auth [options] [command]

```

CopyCopied!

## [e2b auth login](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#e2b-auth-login)

log in to CLI

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#usage-2)

```bash
e2b auth login [options]

```

CopyCopied!

## [e2b auth logout](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#e2b-auth-logout)

log out of CLI

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#usage-3)

```bash
e2b auth logout [options]

```

CopyCopied!

## [e2b auth info](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#e2b-auth-info)

get information about the current user

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#usage-4)

```bash
e2b auth info [options]

```

CopyCopied!

## [e2b auth configure](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#e2b-auth-configure)

configure user

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.1/auth\#usage-5)

```bash
e2b auth configure [options]

```

CopyCopied!

---

## Page 20: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Environment variables

This page covers how to set and use environment variables in a sandbox, and default environment variables inside the sandbox.

## [Default environment variables](https://e2b.dev/docs/sandbox/environment-variables\#default-environment-variables)

### [Knowing if you are inside a sandbox](https://e2b.dev/docs/sandbox/environment-variables\#knowing-if-you-are-inside-a-sandbox)

Sometimes it's useful to know if the code is running inside a sandbox. Upon creating a sandbox, an environment variable `E2B_SANDBOX` is automatically set to `true`.
You can try it out by running the following code in the sandbox:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
const sandbox = await Sandbox.create()
const result = await sandbox.commands.run('echo $E2B_SANDBOX')

```

CopyCopied!

* * *

## [Setting environment variables](https://e2b.dev/docs/sandbox/environment-variables\#setting-environment-variables)

There are 3 ways to set environment variables in a sandbox:

1. [Global environment variables when creating the sandbox](https://e2b.dev/docs/sandbox/environment-variables#1-global-environment-variables-when-creating-the-sandbox).
2. [When running code in the sandbox](https://e2b.dev/docs/sandbox/environment-variables#2-setting-environment-variables-when-running-code).
3. [When running commands in the sandbox](https://e2b.dev/docs/sandbox/environment-variables#3-setting-environment-variables-when-running-commands).

### [1\. Global environment variables](https://e2b.dev/docs/sandbox/environment-variables\#1-global-environment-variables)

You can set global environment variables when creating a sandbox.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create({
  envs: {
    MY_VAR: 'my_value',
  },
})

```

CopyCopied!

### [2\. Setting environment variables when running code](https://e2b.dev/docs/sandbox/environment-variables\#2-setting-environment-variables-when-running-code)

You can set environment variables for specific code execution call in the sandbox.

If you had a global environment variable with the same name, it will be overridden.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
const sandbox = await Sandbox.create()
const result = await sandbox.runCode('import os; print(os.environ.get("MY_VAR"))', {
  envs: {
    MY_VAR: 'my_value',
  },
})

```

CopyCopied!

### [3\. Setting environment variables when running commands](https://e2b.dev/docs/sandbox/environment-variables\#3-setting-environment-variables-when-running-commands)

You can set environment variables for specific command execution in the sandbox.

If you had a global environment variable with the same name, it will be overridden.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
const sandbox = await Sandbox.create()
sandbox.commands.run('echo $MY_VAR', {
  envs: {
    MY_VAR: '123',
  },
})

```

CopyCopied!

---

## Page 21: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Run bash code

Use the `runCode`/ `run_code` method to run bash code inside the sandbox.
You'll need to pass the `language` parameter with value `bash`.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
const execution = await sbx.runCode('echo "Hello, world!"', { language: 'bash' })
console.log(execution)

```

CopyCopied!

---

## Page 22: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Create charts & visualizations

E2B Sandbox allows you to create charts and visualizations by executing Python code inside the sandbox with `runCode()` method in JavaScript and `run_code()` method in Python.

These charts and visualizations can be [static](https://e2b.dev/docs/code-interpreting/create-charts-visualizations/static-charts) or [interactive](https://e2b.dev/docs/code-interpreting/create-charts-visualizations/interactive-charts) plots.

---

## Page 23: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Connect to running sandbox

If you have a running sandbox, you can connect to it using the `Sandbox.connect()` method and then start controlling it with our SDK.

This is useful if you want to, for example, reuse the same sandbox instance for the same user after a short period of inactivity.

## [1\. Get the sandbox ID](https://e2b.dev/docs/sandbox/connect\#1-get-the-sandbox-id)

To connect to a running sandbox, you first need to retrieve its ID. You can do this by calling the `Sandbox.list()` method.

If you're using the [beta version of the SDKs](https://e2b.dev/docs/sandbox/installing-beta-sdks), the `Sandbox.list()` method was updated. See [List Sandboxes](https://e2b.dev/docs/sandbox/list#changes-in-the-beta-sdks) for more information.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from "@e2b/code-interpreter"

// Get all running sandboxes
const runningSandboxes = await Sandbox.list()

if (runningSandboxes.length === 0) {
  throw new Error("No running sandboxes found")
}

// Get the ID of the sandbox you want to connect to
const sandboxId = runningSandboxes[0].sandboxId

```

CopyCopied!

## [2\. Connect to the sandbox](https://e2b.dev/docs/sandbox/connect\#2-connect-to-the-sandbox)

Now that you have the sandbox ID, you can connect to the sandbox using the `Sandbox.connect()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from "@e2b/code-interpreter"

// Get all running sandboxes
const runningSandboxes = await Sandbox.list()

if (runningSandboxes.length === 0) {
  throw new Error("No running sandboxes found")
}

// Get the ID of the sandbox you want to connect to
const sandboxId = runningSandboxes[0].sandboxId

// Connect to the sandbox
const sandbox = await Sandbox.connect(sandboxId)
// Now you can use the sandbox as usual
// ...

```

CopyCopied!

---

## Page 24: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Connecting storage bucket to the sandbox

To connect a bucket for storing data from the sandbox, we will use the FUSE file system to mount the bucket to the sandbox.

You will need to create a custom sandbox template with the FUSE file system installed. The guide for building a custom sandbox template can be found [here](https://e2b.dev/docs/sandbox-template).

## [Google Cloud Storage](https://e2b.dev/docs/sandbox/connect-bucket\#google-cloud-storage)

### [Prerequisites](https://e2b.dev/docs/sandbox/connect-bucket\#prerequisites)

To use Google Cloud Storage, you'll need a bucket and a service account. You can create a service account [here](https://console.cloud.google.com/iam-admin/serviceaccounts) and a bucket [here](https://console.cloud.google.com/storage).

If you want to write to the bucket, make sure the service account has the `Storage Object User` role for this bucket.

You can find a guide on creating a service account key [here](https://cloud.google.com/iam/docs/keys-create-delete#iam-service-account-keys-create-console).

### [Mounting the bucket](https://e2b.dev/docs/sandbox/connect-bucket\#mounting-the-bucket)

To use the Google Cloud Storage we need to install the `gcsfuse` package. There's simple `Dockerfile` that can be used to create a container with the `gcsfuse` installed.

```docker
FROM e2bdev/code-interpreter:latest

RUN apt-get update && apt-get install -y gnupg lsb-release wget

RUN lsb_release -c -s > /tmp/lsb_release
RUN GCSFUSE_REPO=$(cat /tmp/lsb_release) && echo "deb https://packages.cloud.google.com/apt gcsfuse-$GCSFUSE_REPO main" | tee /etc/apt/sources.list.d/gcsfuse.list
RUN wget -O - https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -

RUN apt-get update && apt-get install -y gcsfuse

```

CopyCopied!

The bucket is mounted during the sandbox runtime using the `gcsfuse` command.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create('<your template id>')
await sandbox.files.makeDir('/home/user/bucket')
await sandbox.files.write('key.json', '<your service account key>')

await sandbox.commands.run('sudo gcsfuse <flags> --key-file /home/user/key.json <bucket-name> /home/user/bucket')

```

CopyCopied!

### [Flags](https://e2b.dev/docs/sandbox/connect-bucket\#flags)

The complete list of flags is available [here](https://cloud.google.com/storage/docs/gcsfuse-cli#options).

### [Allow the default user to access the files](https://e2b.dev/docs/sandbox/connect-bucket\#allow-the-default-user-to-access-the-files)

To allow the default user to access the files, we can use the following flags:

```
-o allow_other -file-mode=777 -dir-mode=777

```

CopyCopied!

## [Amazon S3](https://e2b.dev/docs/sandbox/connect-bucket\#amazon-s3)

To use Amazon S3, we can use the `s3fs` package. The `Dockerfile` setup is similar to that of Google Cloud Storage.

```docker
FROM ubuntu:latest

RUN apt-get update && apt-get install s3fs

```

CopyCopied!

Similar to Google Cloud Storage, the bucket is mounted during the runtime of the sandbox. The `s3fs` command is used to mount the bucket to the sandbox.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create('<your template id>')
await sandbox.files.makeDir('/home/user/bucket')

// Create a file with the credentials
// If you use another path for the credentials you need to add the path in the command s3fs command
await sandbox.files.write('/root/.passwd-s3fs', '<AWS_ACCESS_KEY_ID>:<AWS_SECRET_ACCESS_KEY>')
await sandbox.commands.run('sudo chmod 600 /root/.passwd-s3fs')

await sandbox.commands.run('sudo s3fs <flags> <bucket-name> /home/user/bucket')

```

CopyCopied!

### [Flags](https://e2b.dev/docs/sandbox/connect-bucket\#flags-2)

The complete list of flags is available [here](https://manpages.ubuntu.com/manpages/xenial/man1/s3fs.1.html).

### [Allow the default user to access the files](https://e2b.dev/docs/sandbox/connect-bucket\#allow-the-default-user-to-access-the-files-2)

To allow the default user to access the files, add the following flag:

```
-o allow_other

```

CopyCopied!

## [Cloudflare R2](https://e2b.dev/docs/sandbox/connect-bucket\#cloudflare-r2)

For Cloudflare R2, we can use a setup very similar to S3. The `Dockerfile` remains the same as for S3. However, the mounting differs slightly; we need to specify the endpoint for R2.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({ template: '<your template id>' })
await sandbox.files.makeDir('/home/user/bucket')

// Create a file with the R2 credentials
// If you use another path for the credentials you need to add the path in the command s3fs command
await sandbox.files.write('/root/.passwd-s3fs', '<R2_ACCESS_KEY_ID>:<R2_SECRET_ACCESS_KEY>')
await sandbox.commands.run('sudo chmod 600 /root/.passwd-s3fs')

await sandbox.commands.run('sudo s3fs -o url=https://<ACCOUNT ID>.r2.cloudflarestorage.com <flags> <bucket-name> /home/user/bucket')

```

CopyCopied!

### [Flags](https://e2b.dev/docs/sandbox/connect-bucket\#flags-3)

It's the same as for S3.

---

## Page 25: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

## [e2b auth](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#e2b-auth)

authentication commands

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#usage)

```bash
e2b auth [options] [command]

```

CopyCopied!

## [e2b auth login](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#e2b-auth-login)

log in to CLI

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#usage-2)

```bash
e2b auth login [options]

```

CopyCopied!

## [e2b auth logout](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#e2b-auth-logout)

log out of CLI

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#usage-3)

```bash
e2b auth logout [options]

```

CopyCopied!

## [e2b auth info](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#e2b-auth-info)

get information about the current user

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#usage-4)

```bash
e2b auth info [options]

```

CopyCopied!

## [e2b auth configure](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#e2b-auth-configure)

configure user

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/auth\#usage-5)

```bash
e2b auth configure [options]

```

CopyCopied!

---

## Page 26: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Installing beta SDKs

To use features like [sandbox persistence](https://e2b.dev/docs/sandbox/persistence) and [metrics](https://e2b.dev/docs/sandbox/metrics), you need to install the beta version of the SDKs.

### [Code Interpreter SDK](https://e2b.dev/docs/sandbox/installing-beta-sdks\#code-interpreter-sdk)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```bash
npm i @e2b/code-interpreter@beta

```

CopyCopied!

### [Core SDK](https://e2b.dev/docs/sandbox/installing-beta-sdks\#core-sdk)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```bash
npm i e2b@beta

```

CopyCopied!

### [Desktop SDK](https://e2b.dev/docs/sandbox/installing-beta-sdks\#desktop-sdk)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```bash
npm i @e2b/desktop@beta

```

CopyCopied!

---

## Page 27: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Run JavaScript and TypeScript code

Use the `runCode`/ `run_code` method to run JavaScript and TypeScript code inside the sandbox.
You'll need to pass the `language` parameter with value `javascript` or `js` for JavaScript and `typescript` or `ts` for TypeScript.

The E2B Code Interpreter supports TypeScript, top-level await, ESM-style imports and automatic promises resolution.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from "@e2b/code-interpreter";

// Create a new sandbox
const sbx = await Sandbox.create();

// Install the axios package
await sbx.commands.run("npm install axios");

// Run the code
const execution = await sbx.runCode(`
  import axios from "axios";

  const url: string = "https://api.github.com/status";
  const response = await axios.get(url);
  response.data;
`,
  { language: "ts" }
);

console.log(execution);

// Execution {
//   results: [],
//   logs: {
//     stdout: [ "{ message: 'GitHub lives! (2025-05-28 10:49:55 -0700) (1)' }\n" ],
//     stderr: [],
//   },
//   error: undefined,
//   executionCount: 1,
//   text: [Getter],
//   toJSON: [Function: toJSON],
// }

```

CopyCopied!

---

## Page 28: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Static charts

Every time you run Python code with `runCode()` in JavaScript or `run_code()` method in Python, the code is executed in a headless Jupyter server inside the sandbox.

E2B automatically detects any plots created with Matplotlib and sends them back to the client as images encoded in the base64 format.
These images are directly accesible on the `result` items in the `execution.results` array.

Here's how to retrieve a static chart from the executed Python code that contains a Matplotlib plot.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
import fs from 'fs'

const codeToRun = `
import matplotlib.pyplot as plt

plt.plot([1, 2, 3, 4])
plt.ylabel('some numbers')
plt.show()
`
const sandbox = await Sandbox.create()

// Run the code inside the sandbox
const execution = await sandbox.runCode(codeToRun)

 // There's only one result in this case - the plot displayed with `plt.show()`
const firstResult = execution.results[0]

if (firstResult.png) {
  // Save the png to a file. The png is in base64 format.
  fs.writeFileSync('chart.png', firstResult.png, { encoding: 'base64' })
  console.log('Chart saved as chart.png')
}

```

CopyCopied!

The code in the variable `codeToRun`/ `code_to_run` will produce this following plot that we're saving as `chart.png` file.

![Static chart produced by the code](https://e2b-docs.vercel.app/_next/static/media/static-chart.3fe96139.png)

---

## Page 29: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Sandbox lifecycle

When you start the sandbox, it stays alive for 5 minutes by default but you can change it by passing the `timeout` parameter.
After the time passes, the sandbox will be automatically shutdown.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
// 🚨 Note: The units are milliseconds.
const sandbox = await Sandbox.create({
  timeoutMs: 60_000,
})

```

CopyCopied!

## [Change sandbox timeout during runtime](https://e2b.dev/docs/sandbox\#change-sandbox-timeout-during-runtime)

You can change the sandbox timeout when it's running by calling the the `setTimeout` method in JavaScript or `set_timeout` method in Python.

When you call the set timeout method, the sandbox timeout will be reset to the new value that you specified.

This can be useful if you want to extend the sandbox lifetime when it's already running.
You can for example start with a sandbox with 1 minute timeout and then periodically call set timout every time user interacts with it in your app.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
const sandbox = await Sandbox.create({ timeoutMs: 60_000 })

// Change the sandbox timeout to 30 seconds.
// 🚨 The new timeout will be 30 seconds from now.
await sandbox.setTimeout(30_000)

```

CopyCopied!

## [Retrieve sandbox information](https://e2b.dev/docs/sandbox\#retrieve-sandbox-information)

You can retrieve sandbox information like sandbox ID, template, metadata, started at/end at date by calling the `getInfo` method in JavaScript or `get_info` method in Python.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
const sandbox = await Sandbox.create({ timeoutMs: 60_000 })

// Retrieve sandbox information.
const info = await sandbox.getInfo()

console.log(info)

// {
//   "sandboxId": "iiny0783cype8gmoawzmx-ce30bc46",
//   "templateId": "rki5dems9wqfm4r03t7g",
//   "name": "base",
//   "metadata": {},
//   "startedAt": "2025-03-24T15:37:58.076Z",
//   "endAt": "2025-03-24T15:42:58.076Z"
// }

```

CopyCopied!

## [Shutdown sandbox](https://e2b.dev/docs/sandbox\#shutdown-sandbox)

You can shutdown the sandbox any time even before the timeout is up by calling the `kill` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
const sandbox = await Sandbox.create({ timeoutMs: 60_000 })

// Shutdown the sandbox immediately.
await sandbox.kill()

```

CopyCopied!

---

## Page 30: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Sandbox metadata

Metadata is a way to attach arbitrary key-value pairs for a sandbox.

This is useful in various scenarios, for example:

- Associate a sandbox with a user session.
- Store custom user data for a sandbox like API keys.
- Associate a sandbox with a user ID and [connect to it later](https://e2b.dev/docs/sandbox/connect).

You specify metadata when creating a sandbox and can access it later through listing running sandboxes with `Sandbox.list()` method.

If you're using the [beta version of the SDK](https://e2b.dev/docs/sandbox/installing-beta-sdks), the `Sandbox.list()` method was updated. See [List Sandboxes](https://e2b.dev/docs/sandbox/list#changes-in-the-beta-sdks) for more information.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with metadata.
const sandbox = await Sandbox.create({
  metadata: {
    userId: '123',
  },
})

// List running sandboxes and access metadata.
const runningSandboxes = await Sandbox.list()
// Will print:
// {
//   'userId': '123',
// }
console.log(runningSandboxes[0].metadata)

```

CopyCopied!

## [Filtering sandboxes by metadata](https://e2b.dev/docs/sandbox/metadata\#filtering-sandboxes-by-metadata)

You can also filter sandboxes by metadata, you can find more about it [here](https://e2b.dev/docs/sandbox/list#filtering-sandboxes).

---

## Page 31: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Upload data to sandbox

You can upload data to the sandbox using the `files.write()` method.

## [Upload single file](https://e2b.dev/docs/filesystem/upload\#upload-single-file)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import fs from 'fs'
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

// Read file from local filesystem
const content = fs.readFileSync('/local/path')
// Upload file to sandbox
await sandbox.files.write('/path/in/sandbox', content)

```

CopyCopied!

## [Upload directory / multiple files](https://e2b.dev/docs/filesystem/upload\#upload-directory-multiple-files)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
const fs = require('fs');
const path = require('path');

import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

// Read all files in the directory and store their paths and contents in an array
const readDirectoryFiles = (directoryPath) => {
  // Read all files in the local directory
  const files = fs.readdirSync(directoryPath);

  // Map files to objects with path and data
  const filesArray = files
    .filter(file => {
      const fullPath = path.join(directoryPath, file);
      // Skip if it's a directory
      return fs.statSync(fullPath).isFile();
    })
    .map(file => {
      const filePath = path.join(directoryPath, file);

      // Read the content of each file
      return {
        path: filePath,
        data: fs.readFileSync(filePath, 'utf8')
      };
    });

  return filesArray;
};

// Usage example
const files = readDirectoryContents('/local/dir');
console.log(files);
// [\
//   { path: '/local/dir/file1.txt', data: 'File 1 contents...' },\
//   { path: '/local/dir/file2.txt', data: 'File 2 contents...' },\
//   ...\
// ]

await sandbox.files.write(files)

```

CopyCopied!

---

## Page 32: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Customize sandbox CPU & RAM

You can customize the CPU and RAM of your sandbox template via E2B CLI.

You'll need to create a sandbox [template first](https://e2b.dev/docs/sandbox-template).

During the build step, you can specify the CPU and RAM of your sandbox template.

The following command will create a sandbox template with 2 CPUs and 2GB of RAM.

Terminal

```bash
e2b template build -c "/root/.jupyter/start-up.sh" --cpu-count 2 --memory-mb 2048

```

CopyCopied!

---

## Page 33: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Upload & downloads files

E2B Sandbox allows you to upload and downloads file to and from the Sandbox.

An alternative way to get your data to the sandbox is to create a [custom sandbox template](https://e2b.dev/docs/sandbox-template).

## [Upload file](https://e2b.dev/docs/quickstart/upload-download-files\#upload-file)

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```ts
import { Sandbox } from '@e2b/code-interpreter'

// Read local file relative to the current working directory
const content = fs.readFileSync('local/file')

const sbx = await Sandbox.create()
// Upload file to the sandbox to absolute path '/home/user/my-file'
await sbx.files.write('/home/user/my-file', content)

```

CopyCopied!

## [Upload multiple files](https://e2b.dev/docs/quickstart/upload-download-files\#upload-multiple-files)

Currently, if you want to upload multiple files, you need to upload each one of the separately.
We're working on a better solution.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```ts
import { Sandbox } from '@e2b/code-interpreter'

// Read local file relative to the current working directory
const fileA = fs.readFileSync('local/file/a')
const fileB = fs.readFileSync('local/file/b')

const sbx = await Sandbox.create()
// Upload file A to the sandbox to absolute path '/home/user/my-file-a'
await sbx.files.write('/home/user/my-file-a', fileA)
// Upload file B to the sandbox to absolute path '/home/user/my-file-b'
await sbx.files.write('/home/user/my-file-b', fileB)

```

CopyCopied!

## [Upload directory](https://e2b.dev/docs/quickstart/upload-download-files\#upload-directory)

We currently don't support an easy way to upload a whole directory.
You need to upload each file separately.

We're working on a better solution.

* * *

## [Download file](https://e2b.dev/docs/quickstart/upload-download-files\#download-file)

To download a file, you need to first get the file's content and then write it to a local file.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```ts
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
// Download file from the sandbox to absolute path '/home/user/my-file'
const content = await sbx.files.read('/home/user/my-file')
// Write file to local path relative to the current working directory
fs.writeFileSync('local/file', content)

```

CopyCopied!

## [Download multiple files](https://e2b.dev/docs/quickstart/upload-download-files\#download-multiple-files)

To download multiple files, you need to download each one of them separately from the sandbox.

We're working on a better solution.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```ts
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
// Download file A from the sandbox by absolute path '/home/user/my-file-a'
const contentA = await sbx.files.read('/home/user/my-file-a')
// Write file A to local path relative to the current working directory
fs.writeFileSync('local/file/a', contentA)

// Download file B from the sandbox by absolute path '/home/user/my-file-b'
const contentB = await sbx.files.read('/home/user/my-file-b')
// Write file B to local path relative to the current working directory
fs.writeFileSync('local/file/b', contentB)

```

CopyCopied!

## [Download directory](https://e2b.dev/docs/quickstart/upload-download-files\#download-directory)

We currently don't support an easy way to download a whole directory.
You need to download each file separately.

We're working on a better solution.

---

## Page 34: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Start Command

The start command allows you to specify a command that will be **already running** when you spawn your custom sandbox.
This way, you can for example have running servers or seeded databases inside the sandbox that are already fully ready when you spawn the sandbox using the SDK and with zero waiting time for your users during the runtime.

The idea behind the start command feature is to lower the wait times for your users and have everything ready for your users when you spawn your sandbox.

You can see how it works [here](https://e2b.dev/docs/sandbox-template#how-it-works).

## [How to add start command](https://e2b.dev/docs/sandbox-template/start-cmd\#how-to-add-start-command)

When you are building a sandbox template you can specify the start command by using the [`-c`](https://e2b.dev/docs/sdk-reference/cli/v1.0.9/template#e2b-template-build) option:

```bash
e2b template build -c "<your-start-command>"

```

CopyCopied!

When you spawn the custom sandbox you built, the start command will be already running if there was no error when we tried to execute it.

### [Sandbox template config](https://e2b.dev/docs/sandbox-template/start-cmd\#sandbox-template-config)

You can specify the start command also inside the `e2b.toml` in the same directory where you run `e2b template build`.

### e2b.toml

```toml
# This is a config for E2B sandbox template
template_id = "1wdqsf9le9gk21ztb4mo"
dockerfile = "e2b.Dockerfile"
template_name = "my-agent-sandbox"
start_cmd = "<your-start-command>"

```

CopyCopied!

## [Logs](https://e2b.dev/docs/sandbox-template/start-cmd\#logs)

You can retrieve the start command's logs using the SDK during runtime.

These logs are the logs from the start command during the build phase.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

### Check start command logs

```js
import { Sandbox } from 'e2b'

// Spawn your custom sandbox
const sandbox = await Sandbox.create({
  id: 'my-agent-sandbox',
  // If you specify onStderr and onStdout handlers when spawning the sandbox
  // you will see logs from the start command.
  onStderr: output => console.log("stderr", output.line),
  onStdout: output => console.log("stdout", output.line),
})

// Close sandbox once done
await sandbox.close()

```

CopyCopied!

Or you can use the CLI:

Terminal

```bash
e2b sandbox logs <sandbox-id>

```

CopyCopied!

---

## Page 35: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# List sandboxes

You can list sandboxes using the `Sandbox.list()` method.

Once you have information about running sandbox, you can [connect](https://e2b.dev/docs/sandbox/connect) to it using the `Sandbox.connect()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create a sandbox.
const sandbox = await Sandbox.create({
  metadata: {
    name: 'My Sandbox',
  },
})

// List all running sandboxes.
const runningSandboxes = await Sandbox.list()
const runningSandbox = runningSandboxes[0]

console.log('Running sandbox metadata:', runningSandbox.metadata)
console.log('Running sandbox id:', runningSandbox.sandboxId)
console.log('Running sandbox started at:', runningSandbox.startedAt)
console.log('Running sandbox template id:', runningSandbox.templateId)

```

CopyCopied!

The code above will output something like this:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
Running sandbox metadata: {
  name: "My Sandbox",
}
Running sandbox id: ixjj3iankaishgcge4jwn-b0b684e9
Running sandbox started at: 2024-10-15T21:13:07.311Z
Running sandbox template id: 3e4rngfa34txe0gxc1zf

```

CopyCopied!

## [Filtering sandboxes](https://e2b.dev/docs/sandbox/list\#filtering-sandboxes)

You can filter sandboxes by specifying [Metadata](https://e2b.dev/docs/sandbox/metadata) key value pairs.
Specifying multiple key value pairs will return sandboxes that match all of them.

This can be useful when you have a large number of sandboxes and want to find only specific ones. The filtering is performed on the server.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with metadata.
const sandbox = await Sandbox.create({
  metadata: {
    env: 'dev',
    app: 'my-app',
    userId: '123',
  },
})

// List running sandboxes that has `userId` key with value `123` and `env` key with value `dev`.
const runningSandboxes = await Sandbox.list({
  query: {
    metadata: { userId: '123', env: 'dev' },
  },
})

```

CopyCopied!

## [Changes in the Beta SDKs](https://e2b.dev/docs/sandbox/list\#changes-in-the-beta-sdks)

If you're using the [beta version of the SDK](https://e2b.dev/docs/sandbox/installing-beta-sdks), the `Sandbox.list()` method was updated.

### [Listing sandboxes](https://e2b.dev/docs/sandbox/list\#listing-sandboxes)

The `Sandbox.list()` method now supports pagination. In the [advanced pagination](https://e2b.dev/docs/sandbox/list#advanced-pagination) section, you can find more information about pagination techniques using the updated method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox, SandboxInfo } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

const paginator = Sandbox.list()

// Get the first page of sandboxes (running and paused)
const firstPage = await paginator.nextItems()

// Get the next page of sandboxes
const nextPage = await paginator.nextItems()

```

CopyCopied!

### [Filtering sandboxes](https://e2b.dev/docs/sandbox/list\#filtering-sandboxes-2)

Filter sandboxes by their current state. The state parameter can contain either " **running**" for running sandboxes or " **paused**" for paused sandboxes, or both.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create a sandbox.
const sandbox = await Sandbox.create()

// List all sandboxes that are running or paused.
const paginator = Sandbox.list({
  query: {
    state: ['running', 'paused'],
  },
})

const sandboxes = await paginator.nextItems()

```

CopyCopied!

Filter sandboxes by the metadata key value pairs specified during Sandbox creation.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with metadata.
const sandbox = await Sandbox.create({
  metadata: {
    env: 'dev',
    app: 'my-app',
    userId: '123',
  },
})

// List all sandboxes that has `userId` key with value `123` and `env` key with value `dev`.
const paginator = Sandbox.list({
  query: {
    metadata: { userId: '123', env: 'dev' },
  },
})

const sandboxes = await paginator.nextItems()

```

CopyCopied!

### [Advanced pagination](https://e2b.dev/docs/sandbox/list\#advanced-pagination)

For more granular pagination, you can set custom per-page item limit (default and maximum is **1000**) and specify an offset parameter ( `nextToken` or `next_token`) to start paginating from.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const paginator = Sandbox.list({
  limit: 1000,
  nextToken: '<base64-encoded-token>',
})

// Additional paginator properties
// Whether there is a next page
paginator.hasNext

// Next page token
paginator.nextToken

// Fetch the next page
await paginator.nextItems()

```

CopyCopied!

You can fetch all pages by looping through the paginator while checking if there is a next page (using `hasNext` or `has_next` property) and fetching until there are no more pages left to fetch:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const paginator = Sandbox.list()

// Loop through all pages
const sandboxes: SandboxInfo[] = []
while (paginator.hasNext) {
  const items = await paginator.nextItems()
  sandboxes.push(...items)
}

```

CopyCopied!

---

## Page 36: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# API Key

To use the API key, you can either:

- **Set the API key as the `E2B_API_KEY` environment variable** to avoid passing it each time you create a sandbox.
- Or pass it directly to the `Sandbox` constructor as shown below:

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create({ apiKey: 'YOUR_API_KEY' })

```

CopyCopied!

## [Where to find API key](https://e2b.dev/docs/api-key\#where-to-find-api-key)

You can get your API key at [dashboard](https://e2b.dev/dashboard?tab=keys).

# Access Token

The access token is used only in the CLI and is **not needed in the SDK**. There's no need to set it when logging into the CLI using `e2b auth login`.

To authenticate without the browser, you can set `E2B_ACCESS_TOKEN` as an environment variable. This is useful for CI/CD pipelines.

## [Where to find Access token](https://e2b.dev/docs/api-key\#where-to-find-access-token)

You can get your **Access token key** at the [dashboard](https://e2b.dev/dashboard/account).

---

## Page 37: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Connect LLMs to E2B

E2B can work with any LLM and AI framework. The easiest way to connect an LLM to E2B is to use the tool use capabilities of the LLM (sometimes known as function calling).

If the LLM doesn't support tool use, you can, for example, prompt the LLM to output code snippets and then manually extract the code snippets with [RegEx](https://en.wikipedia.org/wiki/Regular_expression).

## [Contents](https://e2b.dev/docs/quickstart/connect-llms\#contents)

- [OpenAI](https://e2b.dev/docs/quickstart/connect-llms#openai)
- [Anthropic](https://e2b.dev/docs/quickstart/connect-llms#anthropic)
- [Mistral](https://e2b.dev/docs/quickstart/connect-llms#mistral)
- [Groq](https://e2b.dev/docs/quickstart/connect-llms#groq)
- [Vercel AI SDK](https://e2b.dev/docs/quickstart/connect-llms#vercel-ai-sdk)
- [CrewAI](https://e2b.dev/docs/quickstart/connect-llms#crewai)
- [LangChain](https://e2b.dev/docs/quickstart/connect-llms#langchain)
- [LlamaIndex](https://e2b.dev/docs/quickstart/connect-llms#llamaindex)
- [Ollama](https://e2b.dev/docs/quickstart/connect-llms#ollama)
- [Hugging Face](https://e2b.dev/docs/quickstart/connect-llms#hugging-face)

* * *

## [OpenAI](https://e2b.dev/docs/quickstart/connect-llms\#open-ai)

### [Simple](https://e2b.dev/docs/quickstart/connect-llms\#simple)

```python
# pip install openai e2b-code-interpreter
from openai import OpenAI
from e2b_code_interpreter import Sandbox

# Create OpenAI client
client = OpenAI()
system = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
prompt = "Calculate how many r's are in the word 'strawberry'"

# Send messages to OpenAI API
response = client.chat.completions.create(
    model="gpt-4o",
    messages=[\
        {"role": "system", "content": system},\
        {"role": "user", "content": prompt}\
    ]
)

# Extract the code from the response
code = response.choices[0].message.content

# Execute code in E2B Sandbox
if code:
    with Sandbox() as sandbox:
        execution = sandbox.run_code(code)
        result = execution.text

    print(result)

```

CopyCopied!

### [Function calling](https://e2b.dev/docs/quickstart/connect-llms\#function-calling)

```python
# pip install openai e2b-code-interpreter
import json
from openai import OpenAI
from e2b_code_interpreter import Sandbox

# Create OpenAI client
client = OpenAI()
model = "gpt-4o"

# Define the messages
messages = [\
    {\
        "role": "user",\
        "content": "Calculate how many r's are in the word 'strawberry'"\
    }\
]

# Define the tools
tools = [{\
    "type": "function",\
    "function": {\
        "name": "execute_python",\
        "description": "Execute python code in a Jupyter notebook cell and return result",\
        "parameters": {\
            "type": "object",\
            "properties": {\
                "code": {\
                    "type": "string",\
                    "description": "The python code to execute in a single cell"\
                }\
            },\
            "required": ["code"]\
        }\
    }\
}]

# Generate text with OpenAI
response = client.chat.completions.create(
    model=model,
    messages=messages,
    tools=tools,
)

# Append the response message to the messages list
response_message = response.choices[0].message
messages.append(response_message)

# Execute the tool if it's called by the model
if response_message.tool_calls:
    for tool_call in response_message.tool_calls:
        if tool_call.function.name == "execute_python":
            # Create a sandbox and execute the code
            with Sandbox() as sandbox:
                code = json.loads(tool_call.function.arguments)['code']
                execution = sandbox.run_code(code)
                result = execution.text

            # Send the result back to the model
            messages.append({
                "role": "tool",
                "name": "execute_python",
                "content": result,
                "tool_call_id": tool_call.id,
            })

# Generate the final response
final_response = client.chat.completions.create(
    model=model,
    messages=messages
)

print(final_response.choices[0].message.content)

```

CopyCopied!

* * *

## [Anthropic](https://e2b.dev/docs/quickstart/connect-llms\#anthropic)

### [Simple](https://e2b.dev/docs/quickstart/connect-llms\#simple-2)

```python
# pip install anthropic e2b-code-interpreter
from anthropic import Anthropic
from e2b_code_interpreter import Sandbox

# Create Anthropic client
anthropic = Anthropic()
system_prompt = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
prompt = "Calculate how many r's are in the word 'strawberry'"

# Send messages to Anthropic API
response = anthropic.messages.create(
    model="claude-3-5-sonnet-20240620",
    max_tokens=1024,
    messages=[\
        {"role": "assistant", "content": system_prompt},\
        {"role": "user", "content": prompt}\
    ]
)

# Extract code from response
code = response.content[0].text

# Execute code in E2B Sandbox
with Sandbox() as sandbox:
    execution = sandbox.run_code(code)
    result = execution.logs.stdout

print(result)

```

CopyCopied!

### [Function calling](https://e2b.dev/docs/quickstart/connect-llms\#function-calling-2)

```python
# pip install anthropic e2b-code-interpreter
from anthropic import Anthropic
from e2b_code_interpreter import Sandbox

# Create Anthropic client
client = Anthropic()
model = "claude-3-5-sonnet-20240620"

# Define the messages
messages = [\
    {\
        "role": "user",\
        "content": "Calculate how many r's are in the word 'strawberry'"\
    }\
]

# Define the tools
tools = [{\
    "name": "execute_python",\
    "description": "Execute python code in a Jupyter notebook cell and return (not print) the result",\
    "input_schema": {\
        "type": "object",\
        "properties": {\
            "code": {\
                "type": "string",\
                "description": "The python code to execute in a single cell"\
            }\
        },\
        "required": ["code"]\
    }\
}]

# Generate text with Anthropic
message = client.messages.create(
    model=model,
    max_tokens=1024,
    messages=messages,
    tools=tools
)

# Append the response message to the messages list
messages.append({
    "role": "assistant",
    "content": message.content
})

# Execute the tool if it's called by the model
if message.stop_reason == "tool_use":
    tool_use = next(block for block in message.content if block.type == "tool_use")
    tool_name = tool_use.name
    tool_input = tool_use.input

    if tool_name == "execute_python":
        with Sandbox() as sandbox:
            code = tool_input['code']
            execution = sandbox.run_code(code)
            result = execution.text

        # Append the tool result to the messages list
        messages.append({
            "role": "user",
            "content": [\
                {\
                    "type": "tool_result",\
                    "tool_use_id": tool_use.id,\
                    "content": result,\
                }\
            ],
        })

# Generate the final response
final_response = client.messages.create(
    model=model,
    max_tokens=1024,
    messages=messages,
    tools=tools
)

print(final_response.content[0].text)

```

CopyCopied!

* * *

## [Mistral](https://e2b.dev/docs/quickstart/connect-llms\#mistral)

### [Simple](https://e2b.dev/docs/quickstart/connect-llms\#simple-3)

```python
# pip install mistralai e2b-code-interpreter
import os
from mistralai import Mistral
from e2b_code_interpreter import Sandbox

# Create Mistral client
client = Mistral(api_key=os.environ["MISTRAL_API_KEY"])
system_prompt = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
prompt = "Calculate how many r's are in the word 'strawberry'"

# Send the prompt to the model
response = client.chat.complete(
    model="codestral-latest",
    messages=[\
        {"role": "system", "content": system_prompt},\
        {"role": "user", "content": prompt}\
    ]
)

# Extract the code from the response
code = response.choices[0].message.content

# Execute code in E2B Sandbox
with Sandbox() as sandbox:
    execution = sandbox.run_code(code)
    result = execution.text

print(result)

```

CopyCopied!

### [Function calling](https://e2b.dev/docs/quickstart/connect-llms\#function-calling-3)

```python
# pip install mistralai e2b-code-interpreter
import os
import json
from mistralai import Mistral
from e2b_code_interpreter import Sandbox

# Create Mistral client
client = Mistral(api_key=os.environ["MISTRAL_API_KEY"])
model = "mistral-large-latest"
messages = [\
    {\
        "role": "user",\
        "content": "Calculate how many r's are in the word 'strawberry'"\
    }\
]

# Define the tools
tools = [{\
    "type": "function",\
    "function": {\
        "name": "execute_python",\
        "description": "Execute python code in a Jupyter notebook cell and return result",\
        "parameters": {\
            "type": "object",\
            "properties": {\
                "code": {\
                    "type": "string",\
                    "description": "The python code to execute in a single cell"\
                }\
            },\
            "required": ["code"]\
        }\
    }\
}]

# Send the prompt to the model
response = client.chat.complete(
    model=model,
    messages=messages,
    tools=tools
)

# Append the response message to the messages list
response_message = response.choices[0].message
messages.append(response_message)

# Execute the tool if it's called by the model
if response_message.tool_calls:
    for tool_call in response_message.tool_calls:
        if tool_call.function.name == "execute_python":
            # Create a sandbox and execute the code
            with Sandbox() as sandbox:
                code = json.loads(tool_call.function.arguments)['code']
                execution = sandbox.run_code(code)
                result = execution.text

            # Send the result back to the model
            messages.append({
                "role": "tool",
                "name": "execute_python",
                "content": result,
                "tool_call_id": tool_call.id,
            })

# Generate the final response
final_response = client.chat.complete(
    model=model,
    messages=messages,
)

print(final_response.choices[0].message.content)

```

CopyCopied!

* * *

## [Groq](https://e2b.dev/docs/quickstart/connect-llms\#groq)

```python

# pip install groq e2b-code-interpreter
import os
from groq import Groq
from e2b_code_interpreter import Sandbox

api_key = os.environ["GROQ_API_KEY"]

# Create Groq client
client = Groq(api_key=api_key)
system_prompt = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
prompt = "Calculate how many r's are in the word 'strawberry.'"

# Send the prompt to the model
response = client.chat.completions.create(
    model="llama3-70b-8192",
    messages=[\
        {"role": "system", "content": system_prompt},\
        {"role": "user", "content": prompt},\
    ]
)

# Extract the code from the response
code = response.choices[0].message.content

# Execute code in E2B Sandbox
with Sandbox() as sandbox:
    execution = sandbox.run_code(code)
    result = execution.text

print(result)

```

CopyCopied!

* * *

## [Vercel AI SDK](https://e2b.dev/docs/quickstart/connect-llms\#vercel-ai-sdk)

Vercel's [AI SDK](https://sdk.vercel.ai/) offers support for multiple different LLM providers through a unified JavaScript interface that's easy to use.

### [Simple](https://e2b.dev/docs/quickstart/connect-llms\#simple-4)

```js
// npm install ai @ai-sdk/openai @e2b/code-interpreter
import { openai } from '@ai-sdk/openai'
import { generateText } from 'ai'
import { Sandbox } from '@e2b/code-interpreter'

// Create OpenAI client
const model = openai('gpt-4o')
const system = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
const prompt = "Calculate how many r's are in the word 'strawberry'"

// Generate code with OpenAI
const { text: code } = await generateText({
  model,
  system,
  prompt
})

// Run the code in E2B Sandbox
const sandbox = await Sandbox.create()
const { text, results, logs, error } = await sandbox.runCode(code)

console.log(text)

```

CopyCopied!

### [Function calling](https://e2b.dev/docs/quickstart/connect-llms\#function-calling-4)

```js
// npm install ai @ai-sdk/openai zod @e2b/code-interpreter
import { openai } from '@ai-sdk/openai'
import { generateText } from 'ai'
import z from 'zod'
import { Sandbox } from '@e2b/code-interpreter'

// Create OpenAI client
const model = openai('gpt-4o')

const prompt = "Calculate how many r's are in the word 'strawberry'"

// Generate text with OpenAI
const { text } = await generateText({
  model,
  prompt,
  tools: {
    // Define a tool that runs code in a sandbox
    execute_python: {
      description: 'Execute python code in a Jupyter notebook cell and return result',
      parameters: z.object({
        code: z.string().describe('The python code to execute in a single cell'),
      }),
      execute: async ({ code }) => {
        // Create a sandbox, execute LLM-generated code, and return the result
        const sandbox = await Sandbox.create()
        const { text, results, logs, error } = await sandbox.runCode(code)
        return results
      },
    },
  },
  // This is required to feed the tool call result back to the LLM
  maxSteps: 2
})

console.log(text)

```

CopyCopied!

* * *

## [CrewAI](https://e2b.dev/docs/quickstart/connect-llms\#crew-ai)

[CrewAI](https://crewai.com/) is a platform for building AI agents.

```python
# pip install crewai e2b-code-interpreter
from crewai.tools import tool
from crewai import Agent, Task, Crew, LLM
from e2b_code_interpreter import Sandbox

# Update tool definition using the decorator
@tool("Python Interpreter")
def execute_python(code: str) -> str:
    """
    Execute Python code and return the results.
    """
    with Sandbox() as sandbox:
        execution = sandbox.run_code(code)
        return execution.text

# Define the agent
python_executor = Agent(
    role='Python Executor',
    goal='Execute Python code and return the results',
    backstory='You are an expert Python programmer capable of executing code and returning results.',
    tools=[execute_python],
    llm=LLM(model="gpt-4o")
)

# Define the task
execute_task = Task(
    description="Calculate how many r's are in the word 'strawberry'",
    agent=python_executor,
    expected_output="The number of r's in the word 'strawberry'"
)

# Create the crew
code_execution_crew = Crew(
    agents=[python_executor],
    tasks=[execute_task],
    verbose=True,
)

# Run the crew
result = code_execution_crew.kickoff()
print(result)

```

CopyCopied!

* * *

## [LangChain](https://e2b.dev/docs/quickstart/connect-llms\#lang-chain)

[LangChain](https://langchain.com/) offers support multiple different LLM providers.

### [Simple](https://e2b.dev/docs/quickstart/connect-llms\#simple-5)

```python
# pip install langchain langchain-openai e2b-code-interpreter
from langchain_openai import ChatOpenAI
from langchain_core.prompts import ChatPromptTemplate
from langchain_core.output_parsers import StrOutputParser
from e2b_code_interpreter import Sandbox

system_prompt = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
prompt = "Calculate how many r's are in the word 'strawberry'"

# Create LangChain components
llm = ChatOpenAI(model="gpt-4o")
prompt_template = ChatPromptTemplate.from_messages([\
    ("system", system_prompt),\
    ("human", "{input}")\
])

output_parser = StrOutputParser()

# Create the chain
chain = prompt_template | llm | output_parser

# Run the chain
code = chain.invoke({"input": prompt})

# Execute code in E2B Sandbox
with Sandbox() as sandbox:
    execution = sandbox.run_code(code)
    result = execution.text

print(result)

```

CopyCopied!

### [Agent](https://e2b.dev/docs/quickstart/connect-llms\#agent)

```python
# pip install langchain langchain-openai e2b-code-interpreter
from langchain_core.prompts import ChatPromptTemplate
from langchain_core.tools import tool
from langchain.agents import create_tool_calling_agent, AgentExecutor
from langchain_openai import ChatOpenAI
from e2b_code_interpreter import Sandbox

system_prompt = "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."
prompt = "Calculate how many r's are in the word 'strawberry'"

# Define the tool
@tool
def execute_python(code: str):
    """
    Execute python code in a Jupyter notebook.
    """
    with Sandbox() as sandbox:
        execution = sandbox.run_code(code)
        return execution.text

# Define LangChain components
prompt_template = ChatPromptTemplate.from_messages([\
    ("system", system_prompt),\
    ("human", "{input}"),\
    ("placeholder", "{agent_scratchpad}"),\
])

tools = [execute_python]
llm = ChatOpenAI(model="gpt-4o", temperature=0)

agent = create_tool_calling_agent(llm, tools, prompt_template)
agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)

# Run the agent
agent_executor.invoke({"input": prompt})

```

CopyCopied!

### [Function calling](https://e2b.dev/docs/quickstart/connect-llms\#function-calling-5)

```python
# pip install langchain langchain-openai e2b-code-interpreter
from langchain_openai import ChatOpenAI
from langchain.tools import Tool
from langchain.schema import HumanMessage, AIMessage, FunctionMessage
from e2b_code_interpreter import Sandbox

def execute_python(code: str):
    with Sandbox() as sandbox:
        execution = sandbox.run_code(code)
        return execution.text

# Define a tool that uses the E2B Sandbox
e2b_sandbox_tool = Tool(
    name="execute_python",
    func=execute_python,
    description="Execute python code in a Jupyter notebook cell and return result"
)

# Initialize the language model and bind the tool
llm = ChatOpenAI(model="gpt-4o").bind_tools([e2b_sandbox_tool])

# Define the messages
messages = [\
    HumanMessage(content="Calculate how many 'r's are in the word 'strawberry'.")\
]

# Run the model with a prompt
result = llm.invoke(messages)
messages.append(AIMessage(content=result.content))

# Check if the model called the tool
if result.additional_kwargs.get('tool_calls'):
    tool_call = result.additional_kwargs['tool_calls'][0]
    if tool_call['function']['name'] == "execute_python":
        code = tool_call['function']['arguments']
        execution_result = execute_python(code)

        # Send the result back to the model
        messages.append(
            FunctionMessage(name="execute_python", content=execution_result)
        )

final_result = llm.invoke(messages)
print(final_result.content)

```

CopyCopied!

* * *

## [LlamaIndex](https://e2b.dev/docs/quickstart/connect-llms\#llama-index)

[LlamaIndex](https://www.llamaindex.ai/) offers support multiple different LLM providers.

```python
# pip install llama-index e2b-code-interpreter
from llama_index.core.tools import FunctionTool
from llama_index.llms.openai import OpenAI
from llama_index.core.agent import ReActAgent
from e2b_code_interpreter import Sandbox

# Define the tool
def execute_python(code: str):
    with Sandbox() as sandbox:
        execution = sandbox.run_code(code)
        return execution.text

e2b_sandbox_tool = FunctionTool.from_defaults(
    name="execute_python",
    description="Execute python code in a Jupyter notebook cell and return result",
    fn=execute_python
)

# Initialize LLM
llm = OpenAI(model="gpt-4o")

# Initialize ReAct agent
agent = ReActAgent.from_tools([e2b_sandbox_tool], llm=llm, verbose=True)
agent.chat("Calculate how many r's are in the word 'strawberry'")

```

CopyCopied!

## [Ollama](https://e2b.dev/docs/quickstart/connect-llms\#ollama)

```python
# pip install ollama
import ollama
from e2b_code_interpreter import Sandbox

# Send the prompt to the model
response = ollama.chat(
    model="llama3.2",
    messages=[{\
        "role": "system",\
        "content": "You are a helpful assistant that can execute python code in a Jupyter notebook. Only respond with the code to be executed and nothing else. Strip backticks in code blocks."\
    },\
    {\
        "role": "user",\
        "content": "Calculate how many r's are in the word 'strawberry'"\
    }\
])

# Extract the code from the response
code = response['message']['content']

# Execute code in E2B Sandbox
with Sandbox() as sandbox:
    execution = sandbox.run_code(code)
    result = execution.logs.stdout

print(result)

```

CopyCopied!

* * *

## [Hugging Face](https://e2b.dev/docs/quickstart/connect-llms\#hugging-face)

Hugging Face offers support for serverless inference for models on their model hub with [Hugging Face's Inference API](https://huggingface.co/docs/inference-providers/en/index).

Note that not every model on Hugging Face has native support for tool use and function calling.

````python
from huggingface_hub import InferenceClient
from e2b_code_interpreter import Sandbox
import re

# Not all models are capable of direct tools use - we need to extract the code block manually and prompting the LLM to generate the code.
def match_code_block(llm_response):
  pattern = re.compile(r'```python\n(.*?)\n```', re.DOTALL) # Match everything in between ```python and ```
  match = pattern.search(llm_response)
  if match:
    code = match.group(1)
    print(code)
    return code
  return ""

system_prompt = """You are a helpful coding assistant that can execute python code in a Jupyter notebook. You are given tasks to complete and you run Python code to solve them.
Generally, you follow these rules:
- ALWAYS FORMAT YOUR RESPONSE IN MARKDOWN
- ALWAYS RESPOND ONLY WITH CODE IN CODE BLOCK LIKE THIS:
\`\`\`python
{code}
\`\`\`
"""
prompt = "Calculate how many r's are in the word 'strawberry.'"

# Initialize the client
client = InferenceClient(
    provider="hf-inference",
    api_key="HF_INFERENCE_API_KEY"
)

completion = client.chat.completions.create(
    model="Qwen/Qwen3-235B-A22B", # Or use any other model from Hugging Face
    messages=[\
        {"role": "system", "content": system_prompt},\
        {"role": "user", "content": prompt},\
    ]
)

content = completion.choices[0].message.content
code = match_code_block(content)

with Sandbox() as sandbox:
    execution = sandbox.run_code(code)
    print(execution)

````

CopyCopied!

---

## Page 38: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Authentication in CLI

You must authenticate with E2B CLI before using it. Run the following command to sign in into your E2B account:

Terminal

```bash
e2b auth login

```

CopyCopied!

---

## Page 39: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Supported languages

Typically you use Python to run AI-generated code for data analysis but you can use other languages as well.

Out of the box E2B Sandbox supports:

- [Python](https://e2b.dev/docs/code-interpreting/supported-languages/python)
- [JavaScript and TypeScript](https://e2b.dev/docs/code-interpreting/supported-languages/javascript)
- [R](https://e2b.dev/docs/code-interpreting/supported-languages/r)
- [Java](https://e2b.dev/docs/code-interpreting/supported-languages/java)
- [Bash](https://e2b.dev/docs/code-interpreting/supported-languages/bash)

You can use any custom language runtime by creating a [custom sandbox template](https://e2b.dev/docs/sandbox-template).

---

## Page 40: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Download data from sandbox

You can download data from the sandbox using the `files.read()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import fs from 'fs'
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

// Read file from sandbox
const content = await sandbox.files.read('/path/in/sandbox')
// Write file to local filesystem
fs.writeFileSync('/local/path', content)

```

CopyCopied!

---

## Page 41: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Sandbox templates

Sandbox templates allow you to customize the sandbox environment to your needs.

To create a sandbox template, you specify the `e2b.Dockerfile`. We then take this Dockerfile and create a new sandbox template from it and give you back a template ID.

You can then use this template ID to create a new sandbox with the SDK based on the template you created.

## [How to create custom sandbox](https://e2b.dev/docs/sandbox-template\#how-to-create-custom-sandbox)

**Steps**

1. [Install E2B CLI](https://e2b.dev/docs/sandbox-template#1-install-e2b-cli)
2. [Initialize sandbox template](https://e2b.dev/docs/sandbox-template#2-initialize-sandbox-template)
3. [Customize `e2b.Dockerfile`](https://e2b.dev/docs/sandbox-template#3-customize-e2bdockerfile)
4. [Build your sandbox template](https://e2b.dev/docs/sandbox-template#4-build-your-sandbox-template)
5. [Start your custom sandbox](https://e2b.dev/docs/sandbox-template#5-start-your-custom-sandbox)

### [1\. Install E2B CLI](https://e2b.dev/docs/sandbox-template\#1-install-e2-b-cli)

**Using Homebrew (on macOS)**

Terminal

```bash
brew install e2b

```

CopyCopied!

**Using NPM**

Terminal

```bash
npm i -g @e2b/cli

```

CopyCopied!

### [2\. Initialize sandbox template](https://e2b.dev/docs/sandbox-template\#2-initialize-sandbox-template)

The following command will create a basic `e2b.Dockerfile` in the current directory.

Terminal

```bash
e2b template init

```

CopyCopied!

### [3\. Customize `e2b.Dockerfile`](https://e2b.dev/docs/sandbox-template\#3-customize-e2b-dockerfile)

Now you can customize your sandbox template by editing the `e2b.Dockerfile` file.

### e2b.Dockerfile

```bash
# Make sure to use this base image
FROM e2bdev/code-interpreter:latest

# Install some Python packages
RUN pip install cowsay

```

CopyCopied!

### [4\. Build your sandbox template](https://e2b.dev/docs/sandbox-template\#4-build-your-sandbox-template)

Now you can build your sandbox template. We'll use Docker and the E2B CLI.
What is going to happen is that E2B CLI will call Docker to build the image and then push it to the E2B cloud.
Then we convert the Docker image to a micro VM that can be then launched as a sandbox with our SDK.

Terminal

```bash
e2b template build -c "/root/.jupyter/start-up.sh"

```

CopyCopied!

This process will take a moment. In the end, you'll see your template ID that you'll need to use to create a sandbox with the SDK.

### [5\. Start your custom sandbox](https://e2b.dev/docs/sandbox-template\#5-start-your-custom-sandbox)

Now you can use the template ID to create a sandbox with the SDK.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```javascript
import { sandbox } from '@e2b/code-interpreter'

// Your template ID from the previous step
const templateID = 'id-of-your-template'
// Pass the template ID to the `Sandbox.create` method
const sandbox = await Sandbox.create(templateID)

// The template installed cowsay, so we can use it
const execution = await sandbox.runCode(`
import cowsay
cowsay.say('Hello from E2B!')
`)

console.log(execution.stdout)

```

CopyCopied!

## [How it works](https://e2b.dev/docs/sandbox-template\#how-it-works)

Every time you are building a sandbox template, we create a container based on the [`e2b.Dockerfile`](https://e2b.dev/docs/sandbox-template#3-customize-e2b-dockerfile) file you create in the process.
We extract the container's filesystem, do provisioning and configuration (e.g. installing required dependencies), and start a sandbox.

Then, these steps happen:

1. We take the running sandbox.
2. (Only if you specified the [start command](https://e2b.dev/docs/sandbox-template/start-cmd), otherwise this step is skipped) Execute the start command.
3. Wait for readiness (by default 20 seconds if start command is specified, otherwise immediately ready). Readiness check can be configured using [ready command](https://e2b.dev/docs/sandbox-template/ready-cmd).
4. Snapshot the sandbox and make it ready for you to spawn it with the SDK.

We call this sandbox snapshot a _sandbox template_.

Sandbox Snapshot

Snapshots are saved running sandboxes. We serialize and save the whole sandbox's filesystem together with all the running processes in a way that can be loaded later.

This allows us to load the sandbox in a few hundred milliseconds any time later with all the processes already running and the filesystem exactly as it was.

---

## Page 42: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Streaming command output

To stream command output as it is being executed, pass the `onStdout`, `onStderr` callbacks to the `commands.run()` method in JavaScript
or the `on_stdout`, `on_stderr` callbacks to the `commands.run()` method in Python.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()
const result = await sandbox.commands.run('echo hello; sleep 1; echo world', {
  onStdout: (data) => {
    console.log(data)
  },
  onStderr: (data) => {
    console.log(data)
  },
})
console.log(result)

```

CopyCopied!

---

## Page 43: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Running commands in background

To run commands in background, pass the `background` option to the `commands.run()` method. This will return immediately and the command will continue to run in the sandbox.
You can then later kill the command using the `commands.kill()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()

// Start the command in the background
const command = await sandbox.commands.run('echo hello; sleep 10; echo world', {
  background: true,
  onStdout: (data) => {
    console.log(data)
  },
})

// Kill the command
await command.kill()

```

CopyCopied!

---

## Page 44: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Run Java code

Use the `runCode`/ `run_code` method to run Java code inside the sandbox.
You'll need to pass the `language` parameter with value `java`.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
const execution = await sbx.runCode('System.out.println("Hello, world!");', { language: 'java' })
console.log(execution)

```

CopyCopied!

---

## Page 45: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Running commands in sandbox

You can run terminal commands inside the sandbox using the `commands.run()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sandbox = await Sandbox.create()
const result = await sandbox.commands.run('ls -l')
console.log(result)

```

CopyCopied!

---

## Page 46: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# E2B Documentation

Here you'll find all the guides, concepts, and SDK references for developing with E2B.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

Terminal

```bash
npm i @e2b/code-interpreter

```

CopyCopied!

## [What is E2B?](https://e2b.dev/docs\#what-is-e2-b)

E2B is an [open-source](https://github.com/e2b-dev) infrastructure that allows you to run AI-generated code in secure isolated sandboxes in the cloud.
To start and control sandboxes, use our [Python SDK](https://pypi.org/project/e2b/) or [JavaScript SDK](https://www.npmjs.com/package/e2b).

Some of the typical use cases for E2B are AI data analysis or visualization, running AI-generated code of various languages, playground for coding agents, environment for codegen evals, or running full AI-generated apps like in [Fragments](https://github.com/e2b-dev/fragments).

### [Under the hood](https://e2b.dev/docs\#under-the-hood)

The E2B Sandbox is a small isolated VM the can be started very quickly (~150ms). You can think of it as a small computer for the AI model. You can run many sandboxes at once. Typically, you run separate sandbox for each LLM, user, or AI agent session in your app.
For example, if you were building an AI data analysis chatbot, you would start the sandbox for every user session.

## [Quickstart](https://e2b.dev/docs\#quickstart)

### [Running your first Sandbox](https://e2b.dev/docs/quickstart)

Learn how to start your first E2B Sandbox with our Python or JavaScript SDK.

### [Connecting LLMs to E2B](https://e2b.dev/docs/quickstart/connect-llms)

Connect your favorite LLM to E2B to run AI-generated code inside the Sandbox.

### [Uploading & downloading files](https://e2b.dev/docs/quickstart/upload-download-files)

A quick guide on how to upload and download files to and from the Sandbox.

### [Install custom packages](https://e2b.dev/docs/quickstart/install-custom-packages)

Customize your Sandbox with third-party packages.

## [Code interpreting with AI](https://e2b.dev/docs\#code-interpreting-with-ai)

### [Analyze data with AI](https://e2b.dev/docs/code-interpreting/analyze-data-with-ai)

Learn how to use E2B run AI-generated code to analyze yourdata.

### [Create charts & visualizations](https://e2b.dev/docs/code-interpreting/create-charts-visualizations)

Create interactive charts by running Python code in E2B.

## [Learn the core concepts](https://e2b.dev/docs\#learn-the-core-concepts)

### [Sandbox lifecycle](https://e2b.dev/docs/sandbox)

Learn about how to start the sandbox, manage its lifecycle, and interact with it.

### [Sandbox persistence](https://e2b.dev/docs/sandbox/persistence)

Learn how to achieve data persistence by pausing and resuming sandboxes.

### [Filesystem](https://e2b.dev/docs/filesystem)

Sandbox has an isolated filesystem that you can use to create, read, write, and delete files.

### [Commands](https://e2b.dev/docs/commands)

Run terminal commands inside the Sandbox and start any process inside the Sandbox.

---

## Page 47: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

## [Run R code](https://e2b.dev/docs/code-interpreting/supported-languages/r\#run-r-code)

Use the `runCode`/ `run_code` method to run R code inside the sandbox.
You'll need to pass the `language` parameter with value `r`.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()
const execution = await sbx.runCode('print("Hello, world!")', { language: 'r' })
console.log(execution)

```

CopyCopied!

---

## Page 48: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

## [e2b template](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#e2b-template)

manage sandbox templates

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#usage)

```bash
e2b template [options] [command]

```

CopyCopied!

## [e2b template build](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#e2b-template-build)

build sandbox template defined by ./e2b.Dockerfile or ./Dockerfile in root directory. By default the root directory is the current working directory. This command also creates e2b.toml config.

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#usage-2)

```bash
e2b template build [options] [template]

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#options)

- `-p, --path <path>: change root directory where command is executed to <path> directory `
- `-d, --dockerfile <file>: specify path to Dockerfile. By default E2B tries to find e2b.Dockerfile or Dockerfile in root directory. `
- `-n, --name <template-name>: specify sandbox template name. You can use the template name to start the sandbox with SDK. The template name must be lowercase and contain only letters, numbers, dashes and underscores. `
- `-c, --cmd <start-command>: specify command that will be executed when the sandbox is started. `
- `-t, --team <team-id>: specify the team ID that the operation will be associated with. You can find team ID in the team settings in the E2B dashboard (https://e2b.dev/dashboard?tab=team). `
- `--config <e2b-toml>: specify path to the E2B config toml. By default E2B tries to find ./e2b.toml in root directory. `
- `--cpu-count <cpu-count>: specify the number of CPUs that will be used to run the sandbox. The default value is 2. `
- `--memory-mb <memory-mb>: specify the amount of memory in megabytes that will be used to run the sandbox. Must be an even number. The default value is 512. `
- `--build-arg <args...>: specify additional build arguments for the build command. The format should be <varname>=<value>. `

## [e2b template list](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#e2b-template-list)

list sandbox templates

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#usage-3)

```bash
e2b template list [options]

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#options-2)

- `-t, --team <team-id>: specify the team ID that the operation will be associated with. You can find team ID in the team settings in the E2B dashboard (https://e2b.dev/dashboard?tab=team). `

## [e2b template init](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#e2b-template-init)

create basic E2B Dockerfile (./e2b.Dockerfile) in root directory. You can then run e2b template build to build sandbox template from this Dockerfile

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#usage-4)

```bash
e2b template init [options]

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#options-3)

- `-p, --path <path>: change root directory where command is executed to <path> directory `

## [e2b template delete](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#e2b-template-delete)

delete sandbox template and e2b.toml config

### [Usage](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#usage-5)

```bash
e2b template delete [options] [template]

```

CopyCopied!

### [Options](https://e2b.dev/docs/sdk-reference/cli/v1.0.0/template\#options-4)

- `-p, --path <path>: change root directory where command is executed to <path> directory `
- `--config <e2b-toml>: specify path to the E2B config toml. By default E2B tries to find ./e2b.toml in root directory. `
- `-s, --select: select sandbox template from interactive list `
- `-t, --team <team-id>: specify the team ID that the operation will be associated with. You can find team ID in the team settings in the E2B dashboard (https://e2b.dev/dashboard?tab=team). `
- `-y, --yes: skip manual delete confirmation `

---

## Page 49: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# Read & write files

## [Reading files](https://e2b.dev/docs/filesystem/read-write\#reading-files)

You can read files from the sandbox filesystem using the `files.read()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
const sandbox = await Sandbox.create()
const fileContent = await sandbox.files.read('/path/to/file')

```

CopyCopied!

## [Writing single files](https://e2b.dev/docs/filesystem/read-write\#writing-single-files)

You can write single files to the sandbox filesystem using the `files.write()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
const sandbox = await Sandbox.create()

await sandbox.files.write('/path/to/file', 'file content')

```

CopyCopied!

## [Writing multiple files](https://e2b.dev/docs/filesystem/read-write\#writing-multiple-files)

You can also write multiple files to the sandbox filesystem using the `files.write()` method.

![](https://e2b-docs.vercel.app/_next/static/media/node.ffbff9e8.svg)JavaScript & TypeScript

![](https://e2b-docs.vercel.app/_next/static/media/python.c624d255.svg)Python

```js
import { Sandbox } from '@e2b/code-interpreter'
const sandbox = await Sandbox.create()

await sandbox.files.write([\
    { path: '/path/to/a', data: 'file content' },\
    { path: '/another/path/to/b', data: 'file content' }\
])

```

CopyCopied!

---

## Page 50: E2B - Code Interpreting for AI apps

**URL:** undefined

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

[Home](https://e2b.dev/)

[Documentation](https://e2b.dev/docs)

# SDK Reference

This is the SDK reference for the [E2B CLI & Core SDK](https://github.com/e2b-dev/e2b), [Code Interpreter SDK](https://github.com/e2b-dev/code-interpreter), and [Desktop Sandbox SDK](https://github.com/e2b-dev/desktop).

The reference is intended to be limited to low-level descriptions of various programmatic functionality. If you’re just getting started with E2B, we would instead recommend looking at the [documentation](https://e2b.dev/docs) first or to get started quickly with an example.

---

